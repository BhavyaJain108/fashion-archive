{"ast":null,"code":"var _jsxFileName = \"/Users/bhavyajain/Code/fashion_archive/web_ui/src/components/VideoModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { FashionArchiveAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction VideoModal({\n  videoPath,\n  onClose\n}) {\n  _s();\n  // Initialize position and size safely within viewport\n  const [position, setPosition] = useState(() => {\n    const safeX = typeof window !== 'undefined' ? Math.max(50, window.innerWidth - 450) : 50;\n    const safeY = typeof window !== 'undefined' ? Math.max(100, Math.min(150, window.innerHeight - 400)) : 100;\n    return {\n      x: safeX,\n      y: safeY\n    };\n  });\n  const [size, setSize] = useState(() => ({\n    width: 400,\n    height: 350\n  }));\n  const [aspectRatio, setAspectRatio] = useState(400 / 350);\n  const videoRef = useRef(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isResizing, setIsResizing] = useState(false);\n  const [resizeType, setResizeType] = useState(null);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const windowRef = useRef(null);\n\n  // Handle escape key to close (matches tkinter behavior)\n  useEffect(() => {\n    const handleKeyPress = e => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [onClose]);\n\n  // Handle video load to get natural dimensions\n  const handleVideoLoad = () => {\n    if (videoRef.current) {\n      const video = videoRef.current;\n      const naturalAspectRatio = video.videoWidth / video.videoHeight;\n      setAspectRatio(naturalAspectRatio);\n\n      // Adjust initial size to match video aspect ratio\n      const newHeight = 400 / naturalAspectRatio;\n      setSize({\n        width: 400,\n        height: newHeight + 40\n      }); // +40 for title bar\n    }\n  };\n\n  // Resize functionality\n  const handleResizeMouseDown = (e, type) => {\n    e.stopPropagation();\n    setIsResizing(true);\n    setResizeType(type);\n    setDragOffset({\n      x: e.clientX,\n      y: e.clientY,\n      startWidth: size.width,\n      startHeight: size.height,\n      startX: position.x,\n      startY: position.y\n    });\n  };\n\n  // Dragging functionality (matches tkinter moveable window)\n  const handleMouseDown = e => {\n    if (windowRef.current && !isResizing) {\n      const rect = windowRef.current.getBoundingClientRect();\n      setDragOffset({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n      setIsDragging(true);\n    }\n  };\n  useEffect(() => {\n    let rafId = null;\n    const handleMouseMove = e => {\n      if (isDragging) {\n        // Use requestAnimationFrame to prevent ResizeObserver issues\n        if (rafId) cancelAnimationFrame(rafId);\n        rafId = requestAnimationFrame(() => {\n          // Constrain window to viewport bounds\n          const newX = Math.max(0, Math.min(window.innerWidth - size.width, e.clientX - dragOffset.x));\n          const newY = Math.max(0, Math.min(window.innerHeight - 100, e.clientY - dragOffset.y));\n          setPosition({\n            x: newX,\n            y: newY\n          });\n        });\n      } else if (isResizing) {\n        if (rafId) cancelAnimationFrame(rafId);\n        rafId = requestAnimationFrame(() => {\n          const deltaX = e.clientX - dragOffset.x;\n          const deltaY = e.clientY - dragOffset.y;\n          const maxWidth = window.innerWidth * 0.5; // 50% screen width limit\n\n          let newSize = {\n            ...size\n          };\n          let newPosition = {\n            ...position\n          };\n          if (resizeType === 'se') {\n            // Southeast corner - resize maintaining aspect ratio\n            const newWidth = Math.min(maxWidth, Math.max(300, dragOffset.startWidth + deltaX));\n            const newHeight = newWidth / aspectRatio + 40; // +40 for title bar\n            newSize.width = newWidth;\n            newSize.height = Math.max(250, newHeight);\n          }\n          setSize(newSize);\n          setPosition(newPosition);\n        });\n      }\n    };\n    const handleMouseUp = () => {\n      setIsDragging(false);\n      setIsResizing(false);\n      setResizeType(null);\n      if (rafId) {\n        cancelAnimationFrame(rafId);\n        rafId = null;\n      }\n    };\n    if (isDragging || isResizing) {\n      document.addEventListener('mousemove', handleMouseMove, {\n        passive: true\n      });\n      document.addEventListener('mouseup', handleMouseUp);\n    }\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n      if (rafId) cancelAnimationFrame(rafId);\n    };\n  }, [isDragging, isResizing, dragOffset, size, position, resizeType]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: windowRef,\n      className: \"video-window\",\n      style: {\n        position: 'fixed',\n        left: `${position.x}px`,\n        top: `${position.y}px`,\n        width: `${size.width}px`,\n        height: `${size.height}px`,\n        backgroundColor: 'var(--mac-bg)',\n        border: '2px outset var(--mac-bg)',\n        boxShadow: '4px 4px 8px rgba(0,0,0,0.4)',\n        zIndex: 2000,\n        userSelect: 'none' // Prevent text selection during drag\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mac-title-bar\",\n        onMouseDown: handleMouseDown,\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          cursor: isDragging ? 'grabbing' : 'grab',\n          padding: '4px 8px',\n          backgroundColor: 'var(--mac-bg)',\n          borderBottom: '1px solid var(--mac-border)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '12px'\n          },\n          children: \"Fashion Show Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"mac-button\",\n          style: {\n            padding: '0 6px',\n            fontSize: '10px',\n            minWidth: 'auto'\n          },\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '8px',\n          height: 'calc(100% - 40px)',\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          controls: true,\n          autoPlay: true,\n          onLoadedMetadata: handleVideoLoad,\n          style: {\n            display: 'block',\n            width: '100%',\n            height: '100%',\n            border: '1px solid var(--mac-border)',\n            objectFit: 'contain'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"source\", {\n            src: FashionArchiveAPI.getVideoUrl(videoPath),\n            type: \"video/mp4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), \"Your browser does not support the video tag.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          right: 0,\n          bottom: 0,\n          width: '15px',\n          height: '15px',\n          cursor: 'se-resize',\n          backgroundColor: 'transparent'\n        },\n        onMouseDown: e => handleResizeMouseDown(e, 'se')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(VideoModal, \"y5MXEcu1+hwb310C1KhaEFE4r54=\");\n_c = VideoModal;\nexport default VideoModal;\nvar _c;\n$RefreshReg$(_c, \"VideoModal\");","map":{"version":3,"names":["React","useEffect","useState","useRef","FashionArchiveAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","VideoModal","videoPath","onClose","_s","position","setPosition","safeX","window","Math","max","innerWidth","safeY","min","innerHeight","x","y","size","setSize","width","height","aspectRatio","setAspectRatio","videoRef","isDragging","setIsDragging","isResizing","setIsResizing","resizeType","setResizeType","dragOffset","setDragOffset","windowRef","handleKeyPress","e","key","addEventListener","removeEventListener","handleVideoLoad","current","video","naturalAspectRatio","videoWidth","videoHeight","newHeight","handleResizeMouseDown","type","stopPropagation","clientX","clientY","startWidth","startHeight","startX","startY","handleMouseDown","rect","getBoundingClientRect","left","top","rafId","handleMouseMove","cancelAnimationFrame","requestAnimationFrame","newX","newY","deltaX","deltaY","maxWidth","newSize","newPosition","newWidth","handleMouseUp","document","passive","children","ref","className","style","backgroundColor","border","boxShadow","zIndex","userSelect","onMouseDown","display","justifyContent","cursor","padding","borderBottom","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","onClick","minWidth","flexDirection","controls","autoPlay","onLoadedMetadata","objectFit","src","getVideoUrl","right","bottom","_c","$RefreshReg$"],"sources":["/Users/bhavyajain/Code/fashion_archive/web_ui/src/components/VideoModal.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport { FashionArchiveAPI } from '../services/api';\n\nfunction VideoModal({ videoPath, onClose }) {\n  // Initialize position and size safely within viewport\n  const [position, setPosition] = useState(() => {\n    const safeX = typeof window !== 'undefined' ? Math.max(50, window.innerWidth - 450) : 50;\n    const safeY = typeof window !== 'undefined' ? Math.max(100, Math.min(150, window.innerHeight - 400)) : 100;\n    return { x: safeX, y: safeY };\n  });\n  const [size, setSize] = useState(() => ({\n    width: 400,\n    height: 350\n  }));\n  const [aspectRatio, setAspectRatio] = useState(400 / 350);\n  const videoRef = useRef(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isResizing, setIsResizing] = useState(false);\n  const [resizeType, setResizeType] = useState(null);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const windowRef = useRef(null);\n\n  // Handle escape key to close (matches tkinter behavior)\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [onClose]);\n\n  // Handle video load to get natural dimensions\n  const handleVideoLoad = () => {\n    if (videoRef.current) {\n      const video = videoRef.current;\n      const naturalAspectRatio = video.videoWidth / video.videoHeight;\n      setAspectRatio(naturalAspectRatio);\n      \n      // Adjust initial size to match video aspect ratio\n      const newHeight = 400 / naturalAspectRatio;\n      setSize({ width: 400, height: newHeight + 40 }); // +40 for title bar\n    }\n  };\n\n  // Resize functionality\n  const handleResizeMouseDown = (e, type) => {\n    e.stopPropagation();\n    setIsResizing(true);\n    setResizeType(type);\n    setDragOffset({\n      x: e.clientX,\n      y: e.clientY,\n      startWidth: size.width,\n      startHeight: size.height,\n      startX: position.x,\n      startY: position.y\n    });\n  };\n\n  // Dragging functionality (matches tkinter moveable window)\n  const handleMouseDown = (e) => {\n    if (windowRef.current && !isResizing) {\n      const rect = windowRef.current.getBoundingClientRect();\n      setDragOffset({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n      setIsDragging(true);\n    }\n  };\n\n  useEffect(() => {\n    let rafId = null;\n    \n    const handleMouseMove = (e) => {\n      if (isDragging) {\n        // Use requestAnimationFrame to prevent ResizeObserver issues\n        if (rafId) cancelAnimationFrame(rafId);\n        \n        rafId = requestAnimationFrame(() => {\n          // Constrain window to viewport bounds\n          const newX = Math.max(0, Math.min(window.innerWidth - size.width, e.clientX - dragOffset.x));\n          const newY = Math.max(0, Math.min(window.innerHeight - 100, e.clientY - dragOffset.y));\n          \n          setPosition({ x: newX, y: newY });\n        });\n      } else if (isResizing) {\n        if (rafId) cancelAnimationFrame(rafId);\n        \n        rafId = requestAnimationFrame(() => {\n          const deltaX = e.clientX - dragOffset.x;\n          const deltaY = e.clientY - dragOffset.y;\n          const maxWidth = window.innerWidth * 0.5; // 50% screen width limit\n          \n          let newSize = { ...size };\n          let newPosition = { ...position };\n          \n          if (resizeType === 'se') {\n            // Southeast corner - resize maintaining aspect ratio\n            const newWidth = Math.min(maxWidth, Math.max(300, dragOffset.startWidth + deltaX));\n            const newHeight = (newWidth / aspectRatio) + 40; // +40 for title bar\n            newSize.width = newWidth;\n            newSize.height = Math.max(250, newHeight);\n          }\n          \n          setSize(newSize);\n          setPosition(newPosition);\n        });\n      }\n    };\n\n    const handleMouseUp = () => {\n      setIsDragging(false);\n      setIsResizing(false);\n      setResizeType(null);\n      if (rafId) {\n        cancelAnimationFrame(rafId);\n        rafId = null;\n      }\n    };\n\n    if (isDragging || isResizing) {\n      document.addEventListener('mousemove', handleMouseMove, { passive: true });\n      document.addEventListener('mouseup', handleMouseUp);\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n      if (rafId) cancelAnimationFrame(rafId);\n    };\n  }, [isDragging, isResizing, dragOffset, size, position, resizeType]);\n\n  return (\n    <>\n      {/* Video window - separate draggable window (matches tkinter separate window) */}\n      <div \n        ref={windowRef}\n        className=\"video-window\" \n        style={{\n          position: 'fixed',\n          left: `${position.x}px`,\n          top: `${position.y}px`,\n          width: `${size.width}px`,\n          height: `${size.height}px`,\n          backgroundColor: 'var(--mac-bg)',\n          border: '2px outset var(--mac-bg)',\n          boxShadow: '4px 4px 8px rgba(0,0,0,0.4)',\n          zIndex: 2000,\n          userSelect: 'none' // Prevent text selection during drag\n        }}\n      >\n        {/* Title bar with drag handle */}\n        <div \n          className=\"mac-title-bar\" \n          onMouseDown={handleMouseDown}\n          style={{ \n            display: 'flex', \n            justifyContent: 'space-between',\n            cursor: isDragging ? 'grabbing' : 'grab',\n            padding: '4px 8px',\n            backgroundColor: 'var(--mac-bg)',\n            borderBottom: '1px solid var(--mac-border)'\n          }}\n        >\n          <span style={{ fontSize: '12px' }}>Fashion Show Video</span>\n          <button \n            onClick={onClose}\n            className=\"mac-button\"\n            style={{ \n              padding: '0 6px',\n              fontSize: '10px',\n              minWidth: 'auto'\n            }}\n          >\n            âœ•\n          </button>\n        </div>\n        \n        {/* Video player - simple HTML5 video */}\n        <div style={{ padding: '8px', height: 'calc(100% - 40px)', display: 'flex', flexDirection: 'column' }}>\n          <video \n            ref={videoRef}\n            controls \n            autoPlay\n            onLoadedMetadata={handleVideoLoad}\n            style={{ \n              display: 'block',\n              width: '100%',\n              height: '100%',\n              border: '1px solid var(--mac-border)',\n              objectFit: 'contain'\n            }}\n          >\n            <source src={FashionArchiveAPI.getVideoUrl(videoPath)} type=\"video/mp4\" />\n            Your browser does not support the video tag.\n          </video>\n        </div>\n        \n        {/* Invisible resize handle - corner only */}\n        <div\n          style={{\n            position: 'absolute',\n            right: 0,\n            bottom: 0,\n            width: '15px',\n            height: '15px',\n            cursor: 'se-resize',\n            backgroundColor: 'transparent'\n          }}\n          onMouseDown={(e) => handleResizeMouseDown(e, 'se')}\n        />\n      </div>\n    </>\n  );\n}\n\nexport default VideoModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}