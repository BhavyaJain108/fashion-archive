{"ast":null,"code":"var _jsxFileName = \"/Users/bhavyajain/Code/fashion_archive/web_ui/src/components/MyBrandsPanel.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { FashionArchiveAPI } from '../services/api';\nimport MacModal from './MacModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MyBrandsPanel() {\n  _s();\n  const [brands, setBrands] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({});\n  const [selectedBrand, setSelectedBrand] = useState(null);\n  const [showAddBrand, setShowAddBrand] = useState(false);\n  const [newBrandInput, setNewBrandInput] = useState('');\n  const [inputMode, setInputMode] = useState('name'); // 'name' or 'url'\n  const [validationLoading, setValidationLoading] = useState(false);\n  const [resolverLoading, setResolverLoading] = useState(false);\n  const [scrapingLoading, setScrapingLoading] = useState(false);\n  const [scrapingResult, setScrapingResult] = useState(null);\n  const [selectedProductIndex, setSelectedProductIndex] = useState(0);\n  const [hoveredProductIndex, setHoveredProductIndex] = useState(null); // Track hovered product for preview\n  const [resultModal, setResultModal] = useState(null); // { type: 'success'|'error', title: '', message: '' }\n  const [imageColors, setImageColors] = useState({}); // Store extracted colors for each image\n\n  // NEW: Clean UX state management\n  const [viewMode, setViewMode] = useState('brand'); // 'brand' | 'categories' | 'products'\n  const [categories, setCategories] = useState({}); // Store categories without products\n  const [selectedCategory, setSelectedCategory] = useState(null); // Currently selected category\n  const [categoryProducts, setCategoryProducts] = useState([]); // Products for selected category\n\n  // Legacy functions removed - new clean UX doesn't need these\n\n  // Extract dominant color from image\n  const extractImageColor = (imageUrl, productId) => {\n    if (imageColors[productId]) return; // Already extracted\n\n    const img = new Image();\n    img.crossOrigin = 'anonymous';\n    img.onload = () => {\n      try {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        ctx.drawImage(img, 0, 0);\n\n        // Sample pixels from edges to get border color\n        const edgePixels = [];\n        const margin = 5; // Sample from 5px inside the edge\n\n        // Sample top and bottom edges\n        for (let x = margin; x < canvas.width - margin; x += 10) {\n          const topPixel = ctx.getImageData(x, margin, 1, 1).data;\n          const bottomPixel = ctx.getImageData(x, canvas.height - margin, 1, 1).data;\n          edgePixels.push(topPixel, bottomPixel);\n        }\n\n        // Sample left and right edges  \n        for (let y = margin; y < canvas.height - margin; y += 10) {\n          const leftPixel = ctx.getImageData(margin, y, 1, 1).data;\n          const rightPixel = ctx.getImageData(canvas.width - margin, y, 1, 1).data;\n          edgePixels.push(leftPixel, rightPixel);\n        }\n\n        // Calculate average color\n        let r = 0,\n          g = 0,\n          b = 0;\n        edgePixels.forEach(pixel => {\n          r += pixel[0];\n          g += pixel[1];\n          b += pixel[2];\n        });\n        const count = edgePixels.length;\n        r = Math.round(r / count);\n        g = Math.round(g / count);\n        b = Math.round(b / count);\n        const bgColor = `rgb(${r}, ${g}, ${b})`;\n        const textColor = r * 0.299 + g * 0.587 + b * 0.114 > 128 ? '#000' : '#fff';\n        setImageColors(prev => ({\n          ...prev,\n          [productId]: {\n            background: bgColor,\n            text: textColor\n          }\n        }));\n      } catch (error) {\n        console.warn('Could not extract color from image:', error);\n      }\n    };\n    img.src = imageUrl;\n  };\n\n  // Load brands on component mount\n  useEffect(() => {\n    loadBrands();\n    loadStats();\n  }, []);\n\n  // Keyboard navigation for products\n  useEffect(() => {\n    const handleKeyDown = event => {\n      // Only handle arrow keys when we have products and we're in products view\n      if (viewMode !== 'products' || categoryProducts.length === 0) return;\n      switch (event.key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n          setSelectedProductIndex(prev => {\n            const newIndex = prev > 0 ? prev - 1 : categoryProducts.length - 1;\n            // Scroll to show the new selection\n            scrollToProduct(newIndex);\n            return newIndex;\n          });\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          setSelectedProductIndex(prev => {\n            const newIndex = prev < categoryProducts.length - 1 ? prev + 1 : 0;\n            // Scroll to show the new selection\n            scrollToProduct(newIndex);\n            return newIndex;\n          });\n          break;\n        default:\n          break;\n      }\n    };\n\n    // Add event listener\n    window.addEventListener('keydown', handleKeyDown);\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [viewMode, categoryProducts.length]);\n\n  // Function to scroll gallery to show specific product\n  const scrollToProduct = productIndex => {\n    // Give a small delay to ensure state updates have rendered\n    setTimeout(() => {\n      // Find the product element by its index\n      const productElement = document.querySelector(`[data-product-index=\"${productIndex}\"]`);\n      if (productElement) {\n        productElement.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest',\n          inline: 'center'\n        });\n      }\n    }, 10);\n  };\n  const loadBrands = async () => {\n    try {\n      setLoading(true);\n      const brandsData = await FashionArchiveAPI.getBrands();\n      // Filter to only show approved brands\n      const approvedBrands = brandsData.filter(brand => brand.validation_status === 'approved');\n      setBrands(approvedBrands);\n    } catch (error) {\n      console.error('Error loading brands:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadStats = async () => {\n    try {\n      const statsData = await FashionArchiveAPI.getBrandStats();\n      setStats(statsData);\n    } catch (error) {\n      console.error('Error loading stats:', error);\n    }\n  };\n  const handleAddBrand = async () => {\n    if (!newBrandInput.trim()) return;\n    try {\n      let finalUrl = newBrandInput.trim();\n\n      // If input mode is 'name', resolve brand name to URL first\n      if (inputMode === 'name') {\n        setResolverLoading(true);\n        try {\n          const resolverResult = await FashionArchiveAPI.resolveBrandName(newBrandInput.trim());\n          if (resolverResult.success && resolverResult.url) {\n            finalUrl = resolverResult.url;\n            console.log(`ðŸ” Resolved \"${newBrandInput}\" to: ${finalUrl}`);\n          } else {\n            setResultModal({\n              type: 'error',\n              title: 'Brand Not Found',\n              message: `Could not find official website for \"${newBrandInput}\". ${resolverResult.message || 'Try entering the URL directly.'}`\n            });\n            setResolverLoading(false);\n            return;\n          }\n        } catch (error) {\n          console.error('Error resolving brand name:', error);\n          setResultModal({\n            type: 'error',\n            title: 'Search Error',\n            message: 'Error finding brand website. Please try entering the URL directly.'\n          });\n          setResolverLoading(false);\n          return;\n        } finally {\n          setResolverLoading(false);\n        }\n      }\n\n      // Now validate and add the brand with the final URL\n      setValidationLoading(true);\n      const result = await FashionArchiveAPI.addBrand({\n        url: finalUrl,\n        name: inputMode === 'name' ? newBrandInput.trim() : null // Send brand name for validation\n      });\n      if (result.success) {\n        var _result$brand;\n        setNewBrandInput('');\n        setShowAddBrand(false);\n        loadBrands();\n        loadStats();\n        setResultModal({\n          type: 'success',\n          title: 'Brand Added Successfully!',\n          message: `âœ… ${((_result$brand = result.brand) === null || _result$brand === void 0 ? void 0 : _result$brand.name) || 'Brand'} has been validated and added to your collection.`\n        });\n      } else {\n        setResultModal({\n          type: 'error',\n          title: 'Brand Validation Failed',\n          message: result.message || 'Failed to add brand. Please try again.'\n        });\n      }\n    } catch (error) {\n      console.error('Error adding brand:', error);\n      setResultModal({\n        type: 'error',\n        title: 'Error Adding Brand',\n        message: 'An unexpected error occurred. Please try again.'\n      });\n    } finally {\n      setValidationLoading(false);\n    }\n  };\n  const handleBrandSelect = async brand => {\n    setSelectedBrand(brand);\n\n    // Clear previous results\n    setScrapingResult(null);\n    setCategoryProducts([]);\n    setSelectedCategory(null);\n\n    // NEW: Load categories first (clean UX flow)\n    try {\n      const categoriesData = await FashionArchiveAPI.getBrandCategories(brand.id);\n      if (categoriesData && !categoriesData.error) {\n        if (categoriesData.is_scraped) {\n          // Brand has been scraped - show categories\n          setCategories(categoriesData.categories);\n          setViewMode('categories');\n          console.log(`ðŸ“¦ Loaded ${categoriesData.total_categories} categories for ${brand.name}`);\n        } else {\n          // Brand not scraped yet - show brand info\n          setCategories({});\n          setViewMode('brand');\n          console.log(`ðŸ·ï¸ Brand ${brand.name} not scraped yet`);\n        }\n      } else {\n        console.error('Error loading categories:', categoriesData.error);\n        setViewMode('brand');\n      }\n    } catch (error) {\n      console.error('Error loading brand categories:', error);\n      setViewMode('brand');\n    }\n  };\n  const handleCategorySelect = async categoryName => {\n    if (!selectedBrand) return;\n    setSelectedCategory(categoryName);\n    setCategoryProducts([]);\n    setSelectedProductIndex(0);\n    try {\n      const productsData = await FashionArchiveAPI.getCategoryProducts(selectedBrand.id, categoryName);\n      if (productsData && !productsData.error) {\n        var _productsData$product, _productsData$product2;\n        setCategoryProducts(productsData.products || []);\n        setViewMode('products');\n        console.log(`ðŸ“¦ Loaded ${((_productsData$product = productsData.products) === null || _productsData$product === void 0 ? void 0 : _productsData$product.length) || 0} products for ${categoryName}`);\n\n        // Extract colors for images\n        (_productsData$product2 = productsData.products) === null || _productsData$product2 === void 0 ? void 0 : _productsData$product2.forEach(product => {\n          if (product.image_url) {\n            extractImageColor(product.image_url, product.id);\n          }\n        });\n      } else {\n        console.error('Error loading category products:', productsData.error);\n      }\n    } catch (error) {\n      console.error('Error loading category products:', error);\n    }\n  };\n\n  // Removed handleBackToCategories - no longer needed in new always-visible UX\n\n  const handleScrapeProducts = async () => {\n    if (!selectedBrand) return;\n    setScrapingLoading(true);\n    setScrapingResult(null);\n    try {\n      console.log('ðŸš€ Starting dynamic parallel collection scraping for brand:', selectedBrand.name);\n      const result = await FashionArchiveAPI.scrapeBrandProductsStream(selectedBrand.id, progressData => {\n        console.log('ðŸ“Š Progress:', progressData);\n        if (progressData.status === 'starting') {\n          setScrapingResult({\n            success: true,\n            type: 'progress',\n            message: 'ðŸ”§ Initializing dynamic parallel batching...',\n            stage: 'setup'\n          });\n        } else if (progressData.status === 'scraping_started') {\n          setScrapingResult({\n            success: true,\n            type: 'progress',\n            message: 'ðŸ¤– AI analyzing page (detecting collections)...',\n            stage: 'analysis'\n          });\n        } else if (progressData.status === 'products_found') {\n          setScrapingResult({\n            success: true,\n            type: 'progress',\n            message: `ðŸ”¥ Found ${progressData.count} products across ${progressData.collections} collections!`,\n            stage: 'discovery',\n            productsCount: progressData.count,\n            collectionsCount: progressData.collections\n          });\n        } else if (progressData.status === 'downloading_images') {\n          setScrapingResult({\n            success: true,\n            type: 'progress',\n            message: `âš¡ Parallel download: ${progressData.product_count} products`,\n            stage: 'downloading'\n          });\n        } else if (progressData.status === 'using_cached_images') {\n          setScrapingResult({\n            success: true,\n            type: 'progress',\n            message: `â™»ï¸ Using ${progressData.count} cached images`,\n            stage: 'cached'\n          });\n        } else if (progressData.status === 'storing_progress') {\n          setScrapingResult({\n            success: true,\n            type: 'progress',\n            message: `ðŸ’¾ Stored ${progressData.stored}/${progressData.total} products`,\n            stage: 'storing'\n          });\n        }\n      });\n      if (result && result.status === 'completed') {\n        // Scraping completed successfully\n        setScrapingResult({\n          success: true,\n          type: 'products',\n          message: `Successfully scraped ${result.total_products || 0} products`,\n          productsCount: result.total_products || 0,\n          collectionsCount: Object.keys(result.collections || {}).length,\n          hasCollections: true,\n          collections: result.collections\n        });\n\n        // NEW: After successful scraping, load categories for clean UX\n        const categoriesData = await FashionArchiveAPI.getBrandCategories(selectedBrand.id);\n        if (categoriesData && !categoriesData.error && categoriesData.is_scraped) {\n          setCategories(categoriesData.categories);\n          setViewMode('categories'); // Show categories with \"select category\" message\n          setSelectedCategory(null); // Clear any previous selection\n          setCategoryProducts([]); // Clear any previous products\n          console.log(`ðŸ”„ Refreshed categories after scraping - ${categoriesData.total_categories} categories`);\n        }\n      } else {\n        setScrapingResult({\n          success: false,\n          message: (result === null || result === void 0 ? void 0 : result.error) || 'Dynamic parallel scraping failed'\n        });\n      }\n    } catch (error) {\n      console.error('Error in scraping process:', error);\n      setScrapingResult({\n        success: false,\n        message: 'Error in scraping process. Please try again.'\n      });\n    } finally {\n      setScrapingLoading(false);\n    }\n  };\n\n  // Removed handleScrapeCollection - no longer used in new category-first UX\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          height: '100vh',\n          paddingTop: '40px',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mac-label\",\n            children: \"Loading brands...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100vh',\n      flexDirection: 'column',\n      background: 'var(--mac-bg)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mac-title-bar\",\n      style: {\n        height: '20px',\n        flexShrink: 0\n      },\n      children: [\"My Brands - \", stats.total_brands || 0, \" brands, \", stats.total_products || 0, \" products\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flex: 1,\n        minHeight: 0,\n        paddingTop: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column\",\n        style: {\n          width: '300px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mac-panel\",\n          style: {\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            paddingTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mac-label title\",\n            children: \"My Fashion Brands\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mac-listbox mac-scrollbar\",\n            style: {\n              flex: 1,\n              margin: '8px 0',\n              marginTop: '16px'\n            },\n            children: brands.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mac-listbox-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: 'center',\n                  padding: '20px',\n                  color: '#666'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '24px',\n                    marginBottom: '8px'\n                  },\n                  children: \"\\uD83D\\uDC57\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"No brands added yet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this) : brands.map(brand => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `mac-listbox-item ${(selectedBrand === null || selectedBrand === void 0 ? void 0 : selectedBrand.id) === brand.id ? 'selected' : ''}`,\n              onClick: () => handleBrandSelect(brand),\n              children: [\"\\uD83C\\uDFF7\\uFE0F \", brand.name || new URL(brand.url).hostname]\n            }, brand.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mac-button\",\n              style: {\n                width: '100%',\n                marginBottom: '8px'\n              },\n              disabled: !selectedBrand,\n              onClick: handleScrapeProducts,\n              children: scrapingLoading ? 'Scraping Products...' : 'Scrape Products'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mac-button\",\n              style: {\n                width: '100%'\n              },\n              onClick: () => setShowAddBrand(true),\n              children: \"Add New Brand\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column\",\n        style: {\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mac-panel\",\n          style: {\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column'\n          },\n          children: selectedBrand ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '20px 20px 16px 20px',\n                borderBottom: '1px solid #e0e0e0'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  style: {\n                    margin: '0',\n                    fontSize: '18px'\n                  },\n                  children: selectedBrand.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this), scrapingLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: '20px',\n                padding: '16px',\n                backgroundColor: '#f0f8ff',\n                border: '1px solid #d0e8ff',\n                borderRadius: '4px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '14px',\n                  fontWeight: 'bold',\n                  marginBottom: '4px'\n                },\n                children: [\"\\uD83D\\uDD04 \", (scrapingResult === null || scrapingResult === void 0 ? void 0 : scrapingResult.message) || 'Scraping Products...']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#666'\n                },\n                children: (scrapingResult === null || scrapingResult === void 0 ? void 0 : scrapingResult.stage) === 'downloading' ? 'Downloading product images...' : (scrapingResult === null || scrapingResult === void 0 ? void 0 : scrapingResult.stage) === 'analysis' ? 'AI analyzing website structure...' : (scrapingResult === null || scrapingResult === void 0 ? void 0 : scrapingResult.stage) === 'discovery' ? 'Discovering product collections...' : 'Setting up parallel scraping system...'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1,\n                display: 'flex',\n                flexDirection: 'column',\n                minHeight: 0\n              },\n              children: [viewMode === 'brand' && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1,\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: '#666',\n                  padding: '40px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '48px',\n                    marginBottom: '20px'\n                  },\n                  children: \"\\uD83D\\uDECD\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '18px',\n                    marginBottom: '12px',\n                    textAlign: 'center'\n                  },\n                  children: [\"Ready to discover \", selectedBrand.name, \" products\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '14px',\n                    textAlign: 'center',\n                    marginBottom: '24px',\n                    lineHeight: '1.4'\n                  },\n                  children: [\"Click \\\"Scrape Products\\\" to analyze the website and\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 552,\n                    columnNumber: 75\n                  }, this), \"discover all product categories and collections\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 551,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 21\n              }, this), (viewMode === 'categories' || viewMode === 'products') && Object.keys(categories).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1,\n                  display: 'flex',\n                  flexDirection: 'column',\n                  minHeight: 0\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    flexWrap: 'wrap',\n                    gap: '4px',\n                    padding: '12px 20px',\n                    borderBottom: '1px solid #e0e0e0',\n                    backgroundColor: 'var(--mac-bg)'\n                  },\n                  children: Object.entries(categories).map(([categoryName, categoryData]) => /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"mac-button\",\n                    onClick: () => handleCategorySelect(categoryName),\n                    style: {\n                      fontSize: '12px',\n                      padding: '4px 8px',\n                      minWidth: 'auto',\n                      backgroundColor: selectedCategory === categoryName ? 'var(--mac-selected-bg)' : 'var(--mac-button-bg)',\n                      color: selectedCategory === categoryName ? 'var(--mac-selected-text)' : 'var(--mac-text)',\n                      border: selectedCategory === categoryName ? '2px inset var(--mac-bg)' : '2px outset var(--mac-bg)',\n                      cursor: 'pointer'\n                    },\n                    children: [categoryName, \" (\", categoryData.count, \")\"]\n                  }, categoryName, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 23\n                }, this), viewMode === 'products' && categoryProducts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1,\n                    display: 'flex',\n                    gap: '16px',\n                    padding: '20px',\n                    minHeight: 0,\n                    overflow: 'hidden'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      width: '50%',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      minHeight: 0\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mac-label\",\n                      style: {\n                        fontSize: '12px',\n                        marginBottom: '8px',\n                        flexShrink: 0,\n                        padding: '4px'\n                      },\n                      children: [selectedCategory, \" (\", categoryProducts.length, \" products)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 609,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mac-scrollbar\",\n                      style: {\n                        flex: 1,\n                        overflowY: 'auto',\n                        border: '1px solid #e0e0e0',\n                        borderRadius: '4px',\n                        padding: '8px'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          display: 'grid',\n                          gridTemplateColumns: 'repeat(auto-fill, minmax(120px, 1fr))',\n                          gap: '8px',\n                          width: '100%'\n                        },\n                        children: categoryProducts.map((product, index) => {\n                          var _imageColors$product$, _imageColors$product$2;\n                          return /*#__PURE__*/_jsxDEV(\"div\", {\n                            \"data-product-index\": index,\n                            className: `gallery-item ${index === selectedProductIndex ? 'selected' : ''}`,\n                            style: {\n                              cursor: 'pointer',\n                              border: index === selectedProductIndex ? '2px solid #007bff' : '1px solid #e0e0e0',\n                              borderRadius: '4px',\n                              padding: '4px',\n                              backgroundColor: ((_imageColors$product$ = imageColors[product.id]) === null || _imageColors$product$ === void 0 ? void 0 : _imageColors$product$.background) || '#f8f9fa'\n                            },\n                            onClick: () => setSelectedProductIndex(index),\n                            onMouseEnter: () => setHoveredProductIndex(index),\n                            onMouseLeave: () => setHoveredProductIndex(null),\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                width: '100%',\n                                aspectRatio: '1',\n                                overflow: 'hidden',\n                                borderRadius: '2px',\n                                marginBottom: '4px'\n                              },\n                              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                                src: product.image_url,\n                                alt: product.name,\n                                style: {\n                                  width: '100%',\n                                  height: '100%',\n                                  objectFit: 'contain'\n                                },\n                                onLoad: () => {\n                                  extractImageColor(product.image_url, product.id);\n                                },\n                                onError: e => {\n                                  e.target.style.display = 'none';\n                                  e.target.nextSibling.style.display = 'flex';\n                                }\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 654,\n                                columnNumber: 35\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                style: {\n                                  width: '100%',\n                                  height: '100%',\n                                  backgroundColor: '#f0f0f0',\n                                  display: 'none',\n                                  alignItems: 'center',\n                                  justifyContent: 'center',\n                                  fontSize: '10px',\n                                  color: '#999'\n                                },\n                                children: \"No Image\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 670,\n                                columnNumber: 35\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 647,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              style: {\n                                fontSize: '11px',\n                                textAlign: 'center',\n                                lineHeight: '1.2',\n                                height: '20px',\n                                overflow: 'hidden',\n                                color: ((_imageColors$product$2 = imageColors[product.id]) === null || _imageColors$product$2 === void 0 ? void 0 : _imageColors$product$2.text) || '#000'\n                              },\n                              children: product.name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 683,\n                              columnNumber: 33\n                            }, this)]\n                          }, product.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 632,\n                            columnNumber: 31\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 625,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 618,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 603,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      flex: 1,\n                      display: 'flex',\n                      flexDirection: 'column',\n                      minHeight: 0\n                    },\n                    children: (_imageColors$currentP => {\n                      const displayIndex = hoveredProductIndex !== null ? hoveredProductIndex : selectedProductIndex;\n                      const currentProduct = categoryProducts[displayIndex];\n                      if (!currentProduct) return null;\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            padding: '16px',\n                            border: '1px solid #e0e0e0',\n                            borderRadius: '4px',\n                            marginBottom: '16px',\n                            backgroundColor: '#fff',\n                            position: 'relative'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"mac-button\",\n                            onClick: () => {\n                              if (currentProduct.url) {\n                                window.open(currentProduct.url, '_blank');\n                              }\n                            },\n                            style: {\n                              position: 'absolute',\n                              top: '16px',\n                              right: '16px',\n                              backgroundColor: '#007bff',\n                              color: '#fff',\n                              fontSize: '12px'\n                            },\n                            children: \"Visit Product \\uD83D\\uDECD\\uFE0F\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 722,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              fontSize: '16px',\n                              fontWeight: 'bold',\n                              marginBottom: '8px',\n                              paddingRight: '140px'\n                            },\n                            children: currentProduct.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 741,\n                            columnNumber: 33\n                          }, this), currentProduct.price && /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              fontSize: '14px',\n                              color: '#0066cc',\n                              marginBottom: '8px'\n                            },\n                            children: [\"\\uD83D\\uDCB0 \", currentProduct.price]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 746,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              fontSize: '11px',\n                              color: '#999'\n                            },\n                            children: [\"Product \", (hoveredProductIndex !== null ? hoveredProductIndex : selectedProductIndex) + 1, \" of \", categoryProducts.length]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 751,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 714,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            flex: 1,\n                            border: '1px solid #e0e0e0',\n                            borderRadius: '4px',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            minHeight: 0,\n                            overflow: 'hidden',\n                            padding: '8px',\n                            backgroundColor: ((_imageColors$currentP = imageColors[currentProduct.id]) === null || _imageColors$currentP === void 0 ? void 0 : _imageColors$currentP.background) || '#fff'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"img\", {\n                            src: currentProduct.image_url,\n                            alt: currentProduct.name,\n                            style: {\n                              maxWidth: '100%',\n                              maxHeight: '100%',\n                              objectFit: 'contain',\n                              backgroundColor: 'transparent'\n                            },\n                            onLoad: () => {\n                              extractImageColor(currentProduct.image_url, currentProduct.id);\n                            },\n                            onError: e => {\n                              e.target.alt = 'Image not found';\n                              e.target.style.background = '#f0f0f0';\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 769,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 757,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            alignItems: 'center',\n                            padding: '8px',\n                            border: '1px solid #e0e0e0',\n                            borderRadius: '4px',\n                            backgroundColor: '#fff',\n                            marginTop: '16px'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"mac-button\",\n                            onClick: () => {\n                              const newIndex = Math.max(0, selectedProductIndex - 1);\n                              setSelectedProductIndex(newIndex);\n                              scrollToProduct(newIndex);\n                            },\n                            disabled: selectedProductIndex === 0,\n                            style: {\n                              minWidth: '80px'\n                            },\n                            children: \"\\u25C0 Previous\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 798,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            style: {\n                              flex: 1,\n                              textAlign: 'center',\n                              fontSize: '12px',\n                              color: '#666'\n                            },\n                            children: [(hoveredProductIndex !== null ? hoveredProductIndex : selectedProductIndex) + 1, \" of \", categoryProducts.length, \" products\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 811,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"mac-button\",\n                            onClick: () => {\n                              const newIndex = Math.min(categoryProducts.length - 1, selectedProductIndex + 1);\n                              setSelectedProductIndex(newIndex);\n                              scrollToProduct(newIndex);\n                            },\n                            disabled: selectedProductIndex === categoryProducts.length - 1,\n                            style: {\n                              minWidth: '80px'\n                            },\n                            children: \"Next \\u25B6\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 820,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 789,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true);\n                    })()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 700,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 593,\n                  columnNumber: 25\n                }, this) : viewMode === 'categories' ?\n                /*#__PURE__*/\n                /* Category Selection Message */\n                _jsxDEV(\"div\", {\n                  style: {\n                    flex: 1,\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    padding: '40px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '24px',\n                      marginBottom: '12px'\n                    },\n                    children: \"\\uD83D\\uDC46\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 848,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mac-label\",\n                    style: {\n                      fontSize: '14px',\n                      marginBottom: '8px',\n                      textAlign: 'center'\n                    },\n                    children: \"Select a category above to view products\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 849,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mac-text\",\n                    style: {\n                      fontSize: '11px',\n                      textAlign: 'center'\n                    },\n                    children: \"Click any category button to see its products\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 852,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 840,\n                  columnNumber: 25\n                }, this) :\n                /*#__PURE__*/\n                /* No products in selected category */\n                _jsxDEV(\"div\", {\n                  style: {\n                    flex: 1,\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    padding: '40px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '32px',\n                      marginBottom: '16px'\n                    },\n                    children: \"\\uD83D\\uDD0D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 866,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mac-label\",\n                    style: {\n                      fontSize: '14px',\n                      marginBottom: '8px',\n                      textAlign: 'center'\n                    },\n                    children: [\"No products found in \", selectedCategory]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 867,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mac-text\",\n                    style: {\n                      fontSize: '11px',\n                      textAlign: 'center'\n                    },\n                    children: \"This category may be empty or still loading.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 870,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 858,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 21\n              }, this), Object.keys(categories).length === 0 && !scrapingLoading && viewMode !== 'brand' && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1,\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  color: '#666',\n                  padding: '40px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '48px',\n                    marginBottom: '20px'\n                  },\n                  children: \"\\uD83D\\uDCE6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 889,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '16px',\n                    marginBottom: '8px'\n                  },\n                  children: \"No categories found\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 890,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '12px',\n                    textAlign: 'center'\n                  },\n                  children: \"Brand may not be scraped yet. Try clicking \\\"Scrape Products\\\".\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 893,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              flex: 1,\n              color: '#666',\n              flexDirection: 'column'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '32px',\n                marginBottom: '16px'\n              },\n              children: \"\\uD83C\\uDFF7\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Select a brand to start browsing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, this), showAddBrand && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mac-modal-overlay\",\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 2000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mac-dialog\",\n        style: {\n          backgroundColor: 'var(--mac-bg)',\n          border: '2px outset var(--mac-bg)',\n          padding: '20px',\n          width: '500px',\n          minHeight: '320px',\n          boxSizing: 'border-box',\n          display: 'flex',\n          flexDirection: 'column'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mac-label title\",\n          style: {\n            textAlign: 'center',\n            marginBottom: '20px',\n            fontSize: '14px'\n          },\n          children: \"Add New Brand\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mac-label\",\n            style: {\n              marginBottom: '8px',\n              fontSize: '12px'\n            },\n            children: \"Add brand by:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mac-button ${inputMode === 'name' ? 'selected' : ''}`,\n              onClick: () => setInputMode('name'),\n              style: {\n                flex: 1,\n                backgroundColor: inputMode === 'name' ? '#007bff' : 'var(--mac-bg)',\n                color: inputMode === 'name' ? '#fff' : '#000',\n                fontSize: '12px',\n                padding: '6px 12px'\n              },\n              disabled: validationLoading || resolverLoading,\n              children: \"\\uD83D\\uDCDB Brand Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 958,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `mac-button ${inputMode === 'url' ? 'selected' : ''}`,\n              onClick: () => setInputMode('url'),\n              style: {\n                flex: 1,\n                backgroundColor: inputMode === 'url' ? '#007bff' : 'var(--mac-bg)',\n                color: inputMode === 'url' ? '#fff' : '#000',\n                fontSize: '12px',\n                padding: '6px 12px'\n              },\n              disabled: validationLoading || resolverLoading,\n              children: \"\\uD83C\\uDF10 Website URL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 957,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 953,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '16px',\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mac-label\",\n            style: {\n              display: 'block',\n              marginBottom: '8px',\n              fontSize: '12px'\n            },\n            children: inputMode === 'name' ? 'Brand Name:' : 'Website URL:'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newBrandInput,\n            onChange: e => setNewBrandInput(e.target.value.slice(0, 250)),\n            className: \"mac-input\",\n            maxLength: 250,\n            style: {\n              width: '100%',\n              padding: '8px',\n              fontSize: '14px',\n              boxSizing: 'border-box',\n              marginBottom: '4px'\n            },\n            placeholder: inputMode === 'name' ? \"e.g., Jukuhara, Comme des GarÃ§ons, Issey Miyake\" : \"https://example-brand.com\",\n            disabled: validationLoading || resolverLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 998,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '11px',\n              color: '#666',\n              textAlign: 'right',\n              marginBottom: '8px'\n            },\n            children: [newBrandInput.length, \"/250 characters\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mac-text\",\n            style: {\n              fontSize: '11px',\n              color: '#666',\n              lineHeight: '1.3',\n              padding: '8px',\n              border: '1px inset var(--mac-bg)',\n              backgroundColor: '#f9f9f9',\n              marginBottom: '16px'\n            },\n            children: inputMode === 'name' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"\\uD83D\\uDD0D We'll search Google for \\\"\", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: newBrandInput || '[brand name]'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1039,\n                columnNumber: 49\n              }, this), \" official website\\\" and validate it's a small, emerging independent fashion brand.\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: \"\\uD83D\\uDCCB We'll validate that this is a small, emerging, independent fashion brand (not large retailers or marketplaces) before adding it to your collection.\"\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1028,\n            columnNumber: 15\n          }, this), resolverLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '12px',\n              border: '1px inset var(--mac-bg)',\n              backgroundColor: '#f0f8ff',\n              marginBottom: '16px',\n              fontSize: '12px'\n            },\n            children: [\"\\uD83D\\uDD0D Searching for \\\"\", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: newBrandInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1057,\n              columnNumber: 37\n            }, this), \"\\\" official website...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1050,\n            columnNumber: 17\n          }, this), validationLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '12px',\n              border: '1px inset var(--mac-bg)',\n              backgroundColor: '#fff0f0',\n              marginBottom: '16px',\n              fontSize: '12px'\n            },\n            children: \"\\uD83E\\uDD16 AI validating brand as small/independent...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1062,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 990,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '12px',\n            justifyContent: 'flex-end',\n            marginTop: 'auto'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mac-button\",\n            onClick: () => {\n              setShowAddBrand(false);\n              setNewBrandInput('');\n            },\n            disabled: validationLoading || resolverLoading,\n            style: {\n              minWidth: '80px'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1081,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"mac-button\",\n            onClick: handleAddBrand,\n            disabled: !newBrandInput.trim() || validationLoading || resolverLoading,\n            style: {\n              backgroundColor: validationLoading || resolverLoading || !newBrandInput.trim() ? '#ccc' : '#007bff',\n              color: '#fff',\n              minWidth: '100px'\n            },\n            children: resolverLoading ? 'Searching...' : validationLoading ? 'Validating...' : 'Add Brand'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1075,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 932,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 920,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MacModal, {\n      show: !!resultModal,\n      onClose: () => setResultModal(null),\n      type: (resultModal === null || resultModal === void 0 ? void 0 : resultModal.type) || 'info',\n      title: (resultModal === null || resultModal === void 0 ? void 0 : resultModal.title) || '',\n      message: (resultModal === null || resultModal === void 0 ? void 0 : resultModal.message) || '',\n      zIndex: 2100\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 435,\n    columnNumber: 5\n  }, this);\n}\n_s(MyBrandsPanel, \"yE1c+FUIBXq+qjsiDyi0TE/qkTY=\");\n_c = MyBrandsPanel;\nexport default MyBrandsPanel;\nvar _c;\n$RefreshReg$(_c, \"MyBrandsPanel\");","map":{"version":3,"names":["useState","useEffect","FashionArchiveAPI","MacModal","jsxDEV","_jsxDEV","Fragment","_Fragment","MyBrandsPanel","_s","brands","setBrands","loading","setLoading","stats","setStats","selectedBrand","setSelectedBrand","showAddBrand","setShowAddBrand","newBrandInput","setNewBrandInput","inputMode","setInputMode","validationLoading","setValidationLoading","resolverLoading","setResolverLoading","scrapingLoading","setScrapingLoading","scrapingResult","setScrapingResult","selectedProductIndex","setSelectedProductIndex","hoveredProductIndex","setHoveredProductIndex","resultModal","setResultModal","imageColors","setImageColors","viewMode","setViewMode","categories","setCategories","selectedCategory","setSelectedCategory","categoryProducts","setCategoryProducts","extractImageColor","imageUrl","productId","img","Image","crossOrigin","onload","canvas","document","createElement","ctx","getContext","width","height","drawImage","edgePixels","margin","x","topPixel","getImageData","data","bottomPixel","push","y","leftPixel","rightPixel","r","g","b","forEach","pixel","count","length","Math","round","bgColor","textColor","prev","background","text","error","console","warn","src","loadBrands","loadStats","handleKeyDown","event","key","preventDefault","newIndex","scrollToProduct","window","addEventListener","removeEventListener","productIndex","setTimeout","productElement","querySelector","scrollIntoView","behavior","block","inline","brandsData","getBrands","approvedBrands","filter","brand","validation_status","statsData","getBrandStats","handleAddBrand","trim","finalUrl","resolverResult","resolveBrandName","success","url","log","type","title","message","result","addBrand","name","_result$brand","handleBrandSelect","categoriesData","getBrandCategories","id","is_scraped","total_categories","handleCategorySelect","categoryName","productsData","getCategoryProducts","_productsData$product","_productsData$product2","products","product","image_url","handleScrapeProducts","scrapeBrandProductsStream","progressData","status","stage","collections","productsCount","collectionsCount","product_count","stored","total","total_products","Object","keys","hasCollections","className","children","style","display","paddingTop","alignItems","justifyContent","fileName","_jsxFileName","lineNumber","columnNumber","flexDirection","flexShrink","total_brands","flex","minHeight","marginTop","textAlign","padding","color","fontSize","marginBottom","map","onClick","URL","hostname","disabled","borderBottom","backgroundColor","border","borderRadius","fontWeight","lineHeight","flexWrap","gap","entries","categoryData","minWidth","cursor","overflow","overflowY","gridTemplateColumns","index","_imageColors$product$","_imageColors$product$2","onMouseEnter","onMouseLeave","aspectRatio","alt","objectFit","onLoad","onError","e","target","nextSibling","_imageColors$currentP","displayIndex","currentProduct","position","open","top","right","paddingRight","price","maxWidth","maxHeight","max","min","left","bottom","zIndex","boxSizing","value","onChange","slice","maxLength","placeholder","show","onClose","_c","$RefreshReg$"],"sources":["/Users/bhavyajain/Code/fashion_archive/web_ui/src/components/MyBrandsPanel.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { FashionArchiveAPI } from '../services/api';\nimport MacModal from './MacModal';\n\nfunction MyBrandsPanel() {\n  const [brands, setBrands] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({});\n  const [selectedBrand, setSelectedBrand] = useState(null);\n  const [showAddBrand, setShowAddBrand] = useState(false);\n  const [newBrandInput, setNewBrandInput] = useState('');\n  const [inputMode, setInputMode] = useState('name'); // 'name' or 'url'\n  const [validationLoading, setValidationLoading] = useState(false);\n  const [resolverLoading, setResolverLoading] = useState(false);\n  const [scrapingLoading, setScrapingLoading] = useState(false);\n  const [scrapingResult, setScrapingResult] = useState(null);\n  const [selectedProductIndex, setSelectedProductIndex] = useState(0);\n  const [hoveredProductIndex, setHoveredProductIndex] = useState(null); // Track hovered product for preview\n  const [resultModal, setResultModal] = useState(null); // { type: 'success'|'error', title: '', message: '' }\n  const [imageColors, setImageColors] = useState({}); // Store extracted colors for each image\n  \n  // NEW: Clean UX state management\n  const [viewMode, setViewMode] = useState('brand'); // 'brand' | 'categories' | 'products'\n  const [categories, setCategories] = useState({}); // Store categories without products\n  const [selectedCategory, setSelectedCategory] = useState(null); // Currently selected category\n  const [categoryProducts, setCategoryProducts] = useState([]); // Products for selected category\n  \n  // Legacy functions removed - new clean UX doesn't need these\n\n  // Extract dominant color from image\n  const extractImageColor = (imageUrl, productId) => {\n    if (imageColors[productId]) return; // Already extracted\n    \n    const img = new Image();\n    img.crossOrigin = 'anonymous';\n    img.onload = () => {\n      try {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        ctx.drawImage(img, 0, 0);\n        \n        // Sample pixels from edges to get border color\n        const edgePixels = [];\n        const margin = 5; // Sample from 5px inside the edge\n        \n        // Sample top and bottom edges\n        for (let x = margin; x < canvas.width - margin; x += 10) {\n          const topPixel = ctx.getImageData(x, margin, 1, 1).data;\n          const bottomPixel = ctx.getImageData(x, canvas.height - margin, 1, 1).data;\n          edgePixels.push(topPixel, bottomPixel);\n        }\n        \n        // Sample left and right edges  \n        for (let y = margin; y < canvas.height - margin; y += 10) {\n          const leftPixel = ctx.getImageData(margin, y, 1, 1).data;\n          const rightPixel = ctx.getImageData(canvas.width - margin, y, 1, 1).data;\n          edgePixels.push(leftPixel, rightPixel);\n        }\n        \n        // Calculate average color\n        let r = 0, g = 0, b = 0;\n        edgePixels.forEach(pixel => {\n          r += pixel[0];\n          g += pixel[1]; \n          b += pixel[2];\n        });\n        \n        const count = edgePixels.length;\n        r = Math.round(r / count);\n        g = Math.round(g / count);\n        b = Math.round(b / count);\n        \n        const bgColor = `rgb(${r}, ${g}, ${b})`;\n        const textColor = (r * 0.299 + g * 0.587 + b * 0.114) > 128 ? '#000' : '#fff';\n        \n        setImageColors(prev => ({\n          ...prev,\n          [productId]: { background: bgColor, text: textColor }\n        }));\n      } catch (error) {\n        console.warn('Could not extract color from image:', error);\n      }\n    };\n    img.src = imageUrl;\n  };\n\n  // Load brands on component mount\n  useEffect(() => {\n    loadBrands();\n    loadStats();\n  }, []);\n\n  // Keyboard navigation for products\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      // Only handle arrow keys when we have products and we're in products view\n      if (viewMode !== 'products' || categoryProducts.length === 0) return;\n\n      switch (event.key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n          setSelectedProductIndex(prev => {\n            const newIndex = prev > 0 ? prev - 1 : categoryProducts.length - 1;\n            // Scroll to show the new selection\n            scrollToProduct(newIndex);\n            return newIndex;\n          });\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          setSelectedProductIndex(prev => {\n            const newIndex = prev < categoryProducts.length - 1 ? prev + 1 : 0;\n            // Scroll to show the new selection\n            scrollToProduct(newIndex);\n            return newIndex;\n          });\n          break;\n        default:\n          break;\n      }\n    };\n\n    // Add event listener\n    window.addEventListener('keydown', handleKeyDown);\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [viewMode, categoryProducts.length]);\n\n  // Function to scroll gallery to show specific product\n  const scrollToProduct = (productIndex) => {\n    // Give a small delay to ensure state updates have rendered\n    setTimeout(() => {\n      // Find the product element by its index\n      const productElement = document.querySelector(`[data-product-index=\"${productIndex}\"]`);\n      if (productElement) {\n        productElement.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest',\n          inline: 'center'\n        });\n      }\n    }, 10);\n  };\n\n  const loadBrands = async () => {\n    try {\n      setLoading(true);\n      const brandsData = await FashionArchiveAPI.getBrands();\n      // Filter to only show approved brands\n      const approvedBrands = brandsData.filter(brand => brand.validation_status === 'approved');\n      setBrands(approvedBrands);\n    } catch (error) {\n      console.error('Error loading brands:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadStats = async () => {\n    try {\n      const statsData = await FashionArchiveAPI.getBrandStats();\n      setStats(statsData);\n    } catch (error) {\n      console.error('Error loading stats:', error);\n    }\n  };\n\n  const handleAddBrand = async () => {\n    if (!newBrandInput.trim()) return;\n    \n    try {\n      let finalUrl = newBrandInput.trim();\n      \n      // If input mode is 'name', resolve brand name to URL first\n      if (inputMode === 'name') {\n        setResolverLoading(true);\n        \n        try {\n          const resolverResult = await FashionArchiveAPI.resolveBrandName(newBrandInput.trim());\n          \n          if (resolverResult.success && resolverResult.url) {\n            finalUrl = resolverResult.url;\n            console.log(`ðŸ” Resolved \"${newBrandInput}\" to: ${finalUrl}`);\n          } else {\n            setResultModal({\n              type: 'error',\n              title: 'Brand Not Found',\n              message: `Could not find official website for \"${newBrandInput}\". ${resolverResult.message || 'Try entering the URL directly.'}`\n            });\n            setResolverLoading(false);\n            return;\n          }\n        } catch (error) {\n          console.error('Error resolving brand name:', error);\n          setResultModal({\n            type: 'error',\n            title: 'Search Error',\n            message: 'Error finding brand website. Please try entering the URL directly.'\n          });\n          setResolverLoading(false);\n          return;\n        } finally {\n          setResolverLoading(false);\n        }\n      }\n      \n      // Now validate and add the brand with the final URL\n      setValidationLoading(true);\n      const result = await FashionArchiveAPI.addBrand({\n        url: finalUrl,\n        name: inputMode === 'name' ? newBrandInput.trim() : null  // Send brand name for validation\n      });\n      \n      if (result.success) {\n        setNewBrandInput('');\n        setShowAddBrand(false);\n        loadBrands();\n        loadStats();\n        setResultModal({\n          type: 'success',\n          title: 'Brand Added Successfully!',\n          message: `âœ… ${result.brand?.name || 'Brand'} has been validated and added to your collection.`\n        });\n      } else {\n        setResultModal({\n          type: 'error',\n          title: 'Brand Validation Failed',\n          message: result.message || 'Failed to add brand. Please try again.'\n        });\n      }\n    } catch (error) {\n      console.error('Error adding brand:', error);\n      setResultModal({\n        type: 'error',\n        title: 'Error Adding Brand',\n        message: 'An unexpected error occurred. Please try again.'\n      });\n    } finally {\n      setValidationLoading(false);\n    }\n  };\n\n  const handleBrandSelect = async (brand) => {\n    setSelectedBrand(brand);\n    \n    // Clear previous results\n    setScrapingResult(null);\n    setCategoryProducts([]);\n    setSelectedCategory(null);\n    \n    // NEW: Load categories first (clean UX flow)\n    try {\n      const categoriesData = await FashionArchiveAPI.getBrandCategories(brand.id);\n      \n      if (categoriesData && !categoriesData.error) {\n        if (categoriesData.is_scraped) {\n          // Brand has been scraped - show categories\n          setCategories(categoriesData.categories);\n          setViewMode('categories');\n          console.log(`ðŸ“¦ Loaded ${categoriesData.total_categories} categories for ${brand.name}`);\n        } else {\n          // Brand not scraped yet - show brand info\n          setCategories({});\n          setViewMode('brand');\n          console.log(`ðŸ·ï¸ Brand ${brand.name} not scraped yet`);\n        }\n      } else {\n        console.error('Error loading categories:', categoriesData.error);\n        setViewMode('brand');\n      }\n    } catch (error) {\n      console.error('Error loading brand categories:', error);\n      setViewMode('brand');\n    }\n  };\n\n  const handleCategorySelect = async (categoryName) => {\n    if (!selectedBrand) return;\n    \n    setSelectedCategory(categoryName);\n    setCategoryProducts([]);\n    setSelectedProductIndex(0);\n    \n    try {\n      const productsData = await FashionArchiveAPI.getCategoryProducts(selectedBrand.id, categoryName);\n      \n      if (productsData && !productsData.error) {\n        setCategoryProducts(productsData.products || []);\n        setViewMode('products');\n        console.log(`ðŸ“¦ Loaded ${productsData.products?.length || 0} products for ${categoryName}`);\n        \n        // Extract colors for images\n        productsData.products?.forEach(product => {\n          if (product.image_url) {\n            extractImageColor(product.image_url, product.id);\n          }\n        });\n      } else {\n        console.error('Error loading category products:', productsData.error);\n      }\n    } catch (error) {\n      console.error('Error loading category products:', error);\n    }\n  };\n\n  // Removed handleBackToCategories - no longer needed in new always-visible UX\n\n  const handleScrapeProducts = async () => {\n    if (!selectedBrand) return;\n    \n    setScrapingLoading(true);\n    setScrapingResult(null);\n    \n    try {\n      console.log('ðŸš€ Starting dynamic parallel collection scraping for brand:', selectedBrand.name);\n      \n      const result = await FashionArchiveAPI.scrapeBrandProductsStream(\n        selectedBrand.id,\n        (progressData) => {\n          console.log('ðŸ“Š Progress:', progressData);\n          \n          if (progressData.status === 'starting') {\n            setScrapingResult({\n              success: true,\n              type: 'progress',\n              message: 'ðŸ”§ Initializing dynamic parallel batching...',\n              stage: 'setup'\n            });\n          } else if (progressData.status === 'scraping_started') {\n            setScrapingResult({\n              success: true,\n              type: 'progress', \n              message: 'ðŸ¤– AI analyzing page (detecting collections)...',\n              stage: 'analysis'\n            });\n          } else if (progressData.status === 'products_found') {\n            setScrapingResult({\n              success: true,\n              type: 'progress',\n              message: `ðŸ”¥ Found ${progressData.count} products across ${progressData.collections} collections!`,\n              stage: 'discovery',\n              productsCount: progressData.count,\n              collectionsCount: progressData.collections\n            });\n          } else if (progressData.status === 'downloading_images') {\n            setScrapingResult({\n              success: true,\n              type: 'progress',\n              message: `âš¡ Parallel download: ${progressData.product_count} products`,\n              stage: 'downloading'\n            });\n          } else if (progressData.status === 'using_cached_images') {\n            setScrapingResult({\n              success: true,\n              type: 'progress',\n              message: `â™»ï¸ Using ${progressData.count} cached images`,\n              stage: 'cached'\n            });\n          } else if (progressData.status === 'storing_progress') {\n            setScrapingResult({\n              success: true,\n              type: 'progress',\n              message: `ðŸ’¾ Stored ${progressData.stored}/${progressData.total} products`,\n              stage: 'storing'\n            });\n          }\n        }\n      );\n      \n      if (result && result.status === 'completed') {\n        // Scraping completed successfully\n        setScrapingResult({\n          success: true,\n          type: 'products',\n          message: `Successfully scraped ${result.total_products || 0} products`,\n          productsCount: result.total_products || 0,\n          collectionsCount: Object.keys(result.collections || {}).length,\n          hasCollections: true,\n          collections: result.collections\n        });\n        \n        // NEW: After successful scraping, load categories for clean UX\n        const categoriesData = await FashionArchiveAPI.getBrandCategories(selectedBrand.id);\n        if (categoriesData && !categoriesData.error && categoriesData.is_scraped) {\n          setCategories(categoriesData.categories);\n          setViewMode('categories'); // Show categories with \"select category\" message\n          setSelectedCategory(null); // Clear any previous selection\n          setCategoryProducts([]); // Clear any previous products\n          console.log(`ðŸ”„ Refreshed categories after scraping - ${categoriesData.total_categories} categories`);\n        }\n        \n      } else {\n        setScrapingResult({\n          success: false,\n          message: result?.error || 'Dynamic parallel scraping failed'\n        });\n      }\n    } catch (error) {\n      console.error('Error in scraping process:', error);\n      setScrapingResult({\n        success: false,\n        message: 'Error in scraping process. Please try again.'\n      });\n    } finally {\n      setScrapingLoading(false);\n    }\n  };\n\n  // Removed handleScrapeCollection - no longer used in new category-first UX\n\n  if (loading) {\n    return (\n      <div className=\"columns-container\">\n        <div style={{ \n          display: 'flex', \n          height: '100vh', \n          paddingTop: '40px',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}>\n          <div className=\"loading\">\n            <div className=\"mac-label\">Loading brands...</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ display: 'flex', height: '100vh', flexDirection: 'column', background: 'var(--mac-bg)' }}>\n      {/* Title Bar */}\n      <div className=\"mac-title-bar\" style={{ \n        height: '20px',\n        flexShrink: 0\n      }}>\n        My Brands - {stats.total_brands || 0} brands, {stats.total_products || 0} products\n      </div>\n\n      {/* Main Content */}\n      <div style={{ display: 'flex', flex: 1, minHeight: 0, paddingTop: '8px' }}>\n        \n        {/* Left: Brands List - Similar to SeasonsPanel */}\n        <div className=\"column\" style={{ width: '300px' }}>\n          <div className=\"mac-panel\" style={{ height: '100%', display: 'flex', flexDirection: 'column', paddingTop: '20px' }}>\n            \n            {/* Title - matches seasons panel */}\n            <div className=\"mac-label title\">\n              My Fashion Brands\n            </div>\n\n            {/* Brands List - matches seasons listbox */}\n            <div className=\"mac-listbox mac-scrollbar\" style={{ flex: 1, margin: '8px 0', marginTop: '16px' }}>\n              {brands.length === 0 ? (\n                <div className=\"mac-listbox-item\">\n                  <div style={{ textAlign: 'center', padding: '20px', color: '#666' }}>\n                    <div style={{ fontSize: '24px', marginBottom: '8px' }}>ðŸ‘—</div>\n                    <div>No brands added yet</div>\n                  </div>\n                </div>\n              ) : (\n                brands.map((brand) => (\n                  <div\n                    key={brand.id}\n                    className={`mac-listbox-item ${selectedBrand?.id === brand.id ? 'selected' : ''}`}\n                    onClick={() => handleBrandSelect(brand)}\n                  >\n                    ðŸ·ï¸ {brand.name || new URL(brand.url).hostname}\n                  </div>\n                ))\n              )}\n            </div>\n\n            {/* Action Buttons - matches seasons panel */}\n            <div style={{ padding: '8px' }}>\n              <button \n                className=\"mac-button\" \n                style={{ width: '100%', marginBottom: '8px' }}\n                disabled={!selectedBrand}\n                onClick={handleScrapeProducts}\n              >\n                {scrapingLoading ? 'Scraping Products...' : 'Scrape Products'}\n              </button>\n              \n              <button \n                className=\"mac-button\"\n                style={{ width: '100%' }}\n                onClick={() => setShowAddBrand(true)}\n              >\n                Add New Brand\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Right: Clean UX Flow */}\n        <div className=\"column\" style={{ flex: 1 }}>\n          <div className=\"mac-panel\" style={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n            {selectedBrand ? (\n              <>\n                {/* Brand Header */}\n                <div style={{ padding: '20px 20px 16px 20px', borderBottom: '1px solid #e0e0e0' }}>\n                  <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                    <h3 style={{ margin: '0', fontSize: '18px' }}>{selectedBrand.name}</h3>\n                  </div>\n                </div>\n\n                {/* Scraping Status */}\n                {scrapingLoading && (\n                  <div style={{ \n                    margin: '20px',\n                    padding: '16px', \n                    backgroundColor: '#f0f8ff', \n                    border: '1px solid #d0e8ff',\n                    borderRadius: '4px'\n                  }}>\n                    <div style={{ fontSize: '14px', fontWeight: 'bold', marginBottom: '4px' }}>\n                      ðŸ”„ {scrapingResult?.message || 'Scraping Products...'}\n                    </div>\n                    <div style={{ fontSize: '12px', color: '#666' }}>\n                      {scrapingResult?.stage === 'downloading' ? 'Downloading product images...' : \n                       scrapingResult?.stage === 'analysis' ? 'AI analyzing website structure...' :\n                       scrapingResult?.stage === 'discovery' ? 'Discovering product collections...' :\n                       'Setting up parallel scraping system...'}\n                    </div>\n                  </div>\n                )}\n\n                {/* MAIN CONTENT AREA */}\n                <div style={{ flex: 1, display: 'flex', flexDirection: 'column', minHeight: 0 }}>\n                  \n                  {/* Brand View - Show scrape button */}\n                  {viewMode === 'brand' && (\n                    <div style={{ \n                      flex: 1,\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      color: '#666',\n                      padding: '40px'\n                    }}>\n                      <div style={{ fontSize: '48px', marginBottom: '20px' }}>ðŸ›ï¸</div>\n                      <div style={{ fontSize: '18px', marginBottom: '12px', textAlign: 'center' }}>\n                        Ready to discover {selectedBrand.name} products\n                      </div>\n                      <div style={{ fontSize: '14px', textAlign: 'center', marginBottom: '24px', lineHeight: '1.4' }}>\n                        Click \"Scrape Products\" to analyze the website and<br />\n                        discover all product categories and collections\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Categories + Products View - Always show category buttons when scraped */}\n                  {(viewMode === 'categories' || viewMode === 'products') && Object.keys(categories).length > 0 && (\n                    <div style={{ flex: 1, display: 'flex', flexDirection: 'column', minHeight: 0 }}>\n                      \n                      {/* Category Toggle Buttons - Mac Style */}\n                      <div style={{ \n                        display: 'flex', \n                        flexWrap: 'wrap', \n                        gap: '4px',\n                        padding: '12px 20px',\n                        borderBottom: '1px solid #e0e0e0',\n                        backgroundColor: 'var(--mac-bg)'\n                      }}>\n                          {Object.entries(categories).map(([categoryName, categoryData]) => (\n                            <button\n                              key={categoryName}\n                              className=\"mac-button\"\n                              onClick={() => handleCategorySelect(categoryName)}\n                              style={{\n                                fontSize: '12px',\n                                padding: '4px 8px',\n                                minWidth: 'auto',\n                                backgroundColor: selectedCategory === categoryName ? 'var(--mac-selected-bg)' : 'var(--mac-button-bg)',\n                                color: selectedCategory === categoryName ? 'var(--mac-selected-text)' : 'var(--mac-text)',\n                                border: selectedCategory === categoryName ? '2px inset var(--mac-bg)' : '2px outset var(--mac-bg)',\n                                cursor: 'pointer'\n                              }}\n                            >\n                              {categoryName} ({categoryData.count})\n                            </button>\n                          ))}\n                      </div>\n\n                      {/* Products Display Area */}\n                      {viewMode === 'products' && categoryProducts.length > 0 ? (\n                        <div style={{ \n                          flex: 1, \n                          display: 'flex', \n                          gap: '16px',\n                          padding: '20px',\n                          minHeight: 0,\n                          overflow: 'hidden'\n                        }}>\n                      \n                      {/* Product Gallery */}\n                      <div style={{ \n                        width: '50%', \n                        display: 'flex', \n                        flexDirection: 'column',\n                        minHeight: 0\n                      }}>\n                        <div className=\"mac-label\" style={{ \n                          fontSize: '12px', \n                          marginBottom: '8px',\n                          flexShrink: 0,\n                          padding: '4px'\n                        }}>\n                          {selectedCategory} ({categoryProducts.length} products)\n                        </div>\n                        \n                        <div className=\"mac-scrollbar\" style={{ \n                          flex: 1, \n                          overflowY: 'auto',\n                          border: '1px solid #e0e0e0',\n                          borderRadius: '4px',\n                          padding: '8px'\n                        }}>\n                          <div style={{\n                            display: 'grid',\n                            gridTemplateColumns: 'repeat(auto-fill, minmax(120px, 1fr))',\n                            gap: '8px',\n                            width: '100%'\n                          }}>\n                            {categoryProducts.map((product, index) => (\n                              <div\n                                key={product.id}\n                                data-product-index={index}\n                                className={`gallery-item ${index === selectedProductIndex ? 'selected' : ''}`}\n                                style={{\n                                  cursor: 'pointer',\n                                  border: index === selectedProductIndex ? '2px solid #007bff' : '1px solid #e0e0e0',\n                                  borderRadius: '4px',\n                                  padding: '4px',\n                                  backgroundColor: imageColors[product.id]?.background || '#f8f9fa'\n                                }}\n                                onClick={() => setSelectedProductIndex(index)}\n                                onMouseEnter={() => setHoveredProductIndex(index)}\n                                onMouseLeave={() => setHoveredProductIndex(null)}\n                              >\n                                <div style={{ \n                                  width: '100%', \n                                  aspectRatio: '1',\n                                  overflow: 'hidden',\n                                  borderRadius: '2px',\n                                  marginBottom: '4px'\n                                }}>\n                                  <img \n                                    src={product.image_url}\n                                    alt={product.name}\n                                    style={{ \n                                      width: '100%',\n                                      height: '100%',\n                                      objectFit: 'contain'\n                                    }}\n                                    onLoad={() => {\n                                      extractImageColor(product.image_url, product.id);\n                                    }}\n                                    onError={(e) => {\n                                      e.target.style.display = 'none';\n                                      e.target.nextSibling.style.display = 'flex';\n                                    }}\n                                  />\n                                  <div style={{ \n                                    width: '100%',\n                                    height: '100%',\n                                    backgroundColor: '#f0f0f0',\n                                    display: 'none',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                    fontSize: '10px',\n                                    color: '#999'\n                                  }}>\n                                    No Image\n                                  </div>\n                                </div>\n                                <div style={{ \n                                  fontSize: '11px', \n                                  textAlign: 'center',\n                                  lineHeight: '1.2',\n                                  height: '20px',\n                                  overflow: 'hidden',\n                                  color: imageColors[product.id]?.text || '#000'\n                                }}>\n                                  {product.name}\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Selected Product Details */}\n                      <div style={{ \n                        flex: 1, \n                        display: 'flex', \n                        flexDirection: 'column',\n                        minHeight: 0\n                      }}>\n                        {(() => {\n                          const displayIndex = hoveredProductIndex !== null ? hoveredProductIndex : selectedProductIndex;\n                          const currentProduct = categoryProducts[displayIndex];\n                          if (!currentProduct) return null;\n                          \n                          return (\n                            <>\n                              {/* Product Info Header */}\n                              <div style={{ \n                                padding: '16px',\n                                border: '1px solid #e0e0e0',\n                                borderRadius: '4px',\n                                marginBottom: '16px',\n                                backgroundColor: '#fff',\n                                position: 'relative'\n                              }}>\n                                <button \n                                  className=\"mac-button\"\n                                  onClick={() => {\n                                    if (currentProduct.url) {\n                                      window.open(currentProduct.url, '_blank');\n                                    }\n                                  }}\n                                  style={{ \n                                    position: 'absolute',\n                                    top: '16px',\n                                    right: '16px',\n                                    backgroundColor: '#007bff',\n                                    color: '#fff',\n                                    fontSize: '12px'\n                                  }}\n                                >\n                                  Visit Product ðŸ›ï¸\n                                </button>\n                                \n                                <div style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '8px', paddingRight: '140px' }}>\n                                  {currentProduct.name}\n                                </div>\n                                \n                                {currentProduct.price && (\n                                  <div style={{ fontSize: '14px', color: '#0066cc', marginBottom: '8px' }}>\n                                    ðŸ’° {currentProduct.price}\n                                  </div>\n                                )}\n                                \n                                <div style={{ fontSize: '11px', color: '#999' }}>\n                                  Product {(hoveredProductIndex !== null ? hoveredProductIndex : selectedProductIndex) + 1} of {categoryProducts.length}\n                                </div>\n                              </div>\n\n                              {/* Main Product Image */}\n                              <div style={{ \n                                flex: 1,\n                                border: '1px solid #e0e0e0',\n                                borderRadius: '4px',\n                                display: 'flex',\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                                minHeight: 0,\n                                overflow: 'hidden',\n                                padding: '8px',\n                                backgroundColor: imageColors[currentProduct.id]?.background || '#fff'\n                              }}>\n                                <img \n                                  src={currentProduct.image_url}\n                                  alt={currentProduct.name}\n                                  style={{ \n                                    maxWidth: '100%',\n                                    maxHeight: '100%',\n                                    objectFit: 'contain',\n                                    backgroundColor: 'transparent'\n                                  }}\n                                  onLoad={() => {\n                                    extractImageColor(currentProduct.image_url, currentProduct.id);\n                                  }}\n                                  onError={(e) => {\n                                    e.target.alt = 'Image not found';\n                                    e.target.style.background = '#f0f0f0';\n                                  }}\n                                />\n                              </div>\n\n                              {/* Navigation Controls */}\n                              <div style={{ \n                                display: 'flex', \n                                alignItems: 'center', \n                                padding: '8px',\n                                border: '1px solid #e0e0e0',\n                                borderRadius: '4px',\n                                backgroundColor: '#fff',\n                                marginTop: '16px'\n                              }}>\n                                <button \n                                  className=\"mac-button\" \n                                  onClick={() => {\n                                    const newIndex = Math.max(0, selectedProductIndex - 1);\n                                    setSelectedProductIndex(newIndex);\n                                    scrollToProduct(newIndex);\n                                  }}\n                                  disabled={selectedProductIndex === 0}\n                                  style={{ minWidth: '80px' }}\n                                >\n                                  â—€ Previous\n                                </button>\n                                \n                                <div style={{ \n                                  flex: 1, \n                                  textAlign: 'center',\n                                  fontSize: '12px',\n                                  color: '#666'\n                                }}>\n                                  {(hoveredProductIndex !== null ? hoveredProductIndex : selectedProductIndex) + 1} of {categoryProducts.length} products\n                                </div>\n                                \n                                <button \n                                  className=\"mac-button\" \n                                  onClick={() => {\n                                    const newIndex = Math.min(categoryProducts.length - 1, selectedProductIndex + 1);\n                                    setSelectedProductIndex(newIndex);\n                                    scrollToProduct(newIndex);\n                                  }}\n                                  disabled={selectedProductIndex === categoryProducts.length - 1}\n                                  style={{ minWidth: '80px' }}\n                                >\n                                  Next â–¶\n                                </button>\n                              </div>\n                            </>\n                          );\n                        })()}\n                      </div>\n                    </div>\n                      ) : viewMode === 'categories' ? (\n                        /* Category Selection Message */\n                        <div style={{ \n                          flex: 1,\n                          display: 'flex',\n                          flexDirection: 'column',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          padding: '40px'\n                        }}>\n                          <div style={{ fontSize: '24px', marginBottom: '12px' }}>ðŸ‘†</div>\n                          <div className=\"mac-label\" style={{ fontSize: '14px', marginBottom: '8px', textAlign: 'center' }}>\n                            Select a category above to view products\n                          </div>\n                          <div className=\"mac-text\" style={{ fontSize: '11px', textAlign: 'center' }}>\n                            Click any category button to see its products\n                          </div>\n                        </div>\n                      ) : (\n                        /* No products in selected category */\n                        <div style={{ \n                          flex: 1,\n                          display: 'flex',\n                          flexDirection: 'column',\n                          alignItems: 'center',\n                          justifyContent: 'center',\n                          padding: '40px'\n                        }}>\n                          <div style={{ fontSize: '32px', marginBottom: '16px' }}>ðŸ”</div>\n                          <div className=\"mac-label\" style={{ fontSize: '14px', marginBottom: '8px', textAlign: 'center' }}>\n                            No products found in {selectedCategory}\n                          </div>\n                          <div className=\"mac-text\" style={{ fontSize: '11px', textAlign: 'center' }}>\n                            This category may be empty or still loading.\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n\n                  {/* Empty State - No categories found */}\n                  {Object.keys(categories).length === 0 && !scrapingLoading && viewMode !== 'brand' && (\n                    <div style={{ \n                      flex: 1,\n                      display: 'flex',\n                      flexDirection: 'column',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      color: '#666',\n                      padding: '40px'\n                    }}>\n                      <div style={{ fontSize: '48px', marginBottom: '20px' }}>ðŸ“¦</div>\n                      <div style={{ fontSize: '16px', marginBottom: '8px' }}>\n                        No categories found\n                      </div>\n                      <div style={{ fontSize: '12px', textAlign: 'center' }}>\n                        Brand may not be scraped yet. Try clicking \"Scrape Products\".\n                      </div>\n                    </div>\n                  )}\n                  \n                </div>\n              </>\n            ) : (\n              <div style={{ \n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                flex: 1,\n                color: '#666',\n                flexDirection: 'column'\n              }}>\n                <div style={{ fontSize: '32px', marginBottom: '16px' }}>ðŸ·ï¸</div>\n                <div>Select a brand to start browsing</div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Add Brand Modal - Classic Mac Style */}\n      {showAddBrand && (\n        <div className=\"mac-modal-overlay\" style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0,0,0,0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 2000\n        }}>\n          <div className=\"mac-dialog\" style={{\n            backgroundColor: 'var(--mac-bg)',\n            border: '2px outset var(--mac-bg)',\n            padding: '20px',\n            width: '500px',\n            minHeight: '320px',\n            boxSizing: 'border-box',\n            display: 'flex',\n            flexDirection: 'column'\n          }}>\n            \n            {/* Title */}\n            <div className=\"mac-label title\" style={{ \n              textAlign: 'center',\n              marginBottom: '20px',\n              fontSize: '14px'\n            }}>\n              Add New Brand\n            </div>\n            \n            {/* Input Mode Toggle */}\n            <div style={{ marginBottom: '16px' }}>\n              <div className=\"mac-label\" style={{ marginBottom: '8px', fontSize: '12px' }}>\n                Add brand by:\n              </div>\n              <div style={{ display: 'flex', gap: '8px' }}>\n                <button\n                  className={`mac-button ${inputMode === 'name' ? 'selected' : ''}`}\n                  onClick={() => setInputMode('name')}\n                  style={{\n                    flex: 1,\n                    backgroundColor: inputMode === 'name' ? '#007bff' : 'var(--mac-bg)',\n                    color: inputMode === 'name' ? '#fff' : '#000',\n                    fontSize: '12px',\n                    padding: '6px 12px'\n                  }}\n                  disabled={validationLoading || resolverLoading}\n                >\n                  ðŸ“› Brand Name\n                </button>\n                <button\n                  className={`mac-button ${inputMode === 'url' ? 'selected' : ''}`}\n                  onClick={() => setInputMode('url')}\n                  style={{\n                    flex: 1,\n                    backgroundColor: inputMode === 'url' ? '#007bff' : 'var(--mac-bg)',\n                    color: inputMode === 'url' ? '#fff' : '#000',\n                    fontSize: '12px',\n                    padding: '6px 12px'\n                  }}\n                  disabled={validationLoading || resolverLoading}\n                >\n                  ðŸŒ Website URL\n                </button>\n              </div>\n            </div>\n            \n            {/* Input Field */}\n            <div style={{ marginBottom: '16px', flex: 1 }}>\n              <label className=\"mac-label\" style={{ \n                display: 'block', \n                marginBottom: '8px',\n                fontSize: '12px'\n              }}>\n                {inputMode === 'name' ? 'Brand Name:' : 'Website URL:'}\n              </label>\n              <input \n                type=\"text\"\n                value={newBrandInput}\n                onChange={(e) => setNewBrandInput(e.target.value.slice(0, 250))}\n                className=\"mac-input\"\n                maxLength={250}\n                style={{ \n                  width: '100%',\n                  padding: '8px',\n                  fontSize: '14px',\n                  boxSizing: 'border-box',\n                  marginBottom: '4px'\n                }}\n                placeholder={\n                  inputMode === 'name' \n                    ? \"e.g., Jukuhara, Comme des GarÃ§ons, Issey Miyake\" \n                    : \"https://example-brand.com\"\n                }\n                disabled={validationLoading || resolverLoading}\n              />\n              <div style={{ \n                fontSize: '11px', \n                color: '#666', \n                textAlign: 'right',\n                marginBottom: '8px'\n              }}>\n                {newBrandInput.length}/250 characters\n              </div>\n\n              {/* Help Text */}\n              <div className=\"mac-text\" style={{ \n                fontSize: '11px', \n                color: '#666', \n                lineHeight: '1.3',\n                padding: '8px',\n                border: '1px inset var(--mac-bg)',\n                backgroundColor: '#f9f9f9',\n                marginBottom: '16px'\n              }}>\n                {inputMode === 'name' ? (\n                  <>\n                    ðŸ” We'll search Google for \"<strong>{newBrandInput || '[brand name]'}</strong> official website\" and validate it's a small, emerging independent fashion brand.\n                  </>\n                ) : (\n                  <>\n                    ðŸ“‹ We'll validate that this is a small, emerging, independent fashion brand (not large retailers or marketplaces) before adding it to your collection.\n                  </>\n                )}\n              </div>\n\n              {/* Loading State */}\n              {resolverLoading && (\n                <div style={{\n                  padding: '12px',\n                  border: '1px inset var(--mac-bg)',\n                  backgroundColor: '#f0f8ff',\n                  marginBottom: '16px',\n                  fontSize: '12px'\n                }}>\n                  ðŸ” Searching for \"<strong>{newBrandInput}</strong>\" official website...\n                </div>\n              )}\n\n              {validationLoading && (\n                <div style={{\n                  padding: '12px',\n                  border: '1px inset var(--mac-bg)',\n                  backgroundColor: '#fff0f0',\n                  marginBottom: '16px',\n                  fontSize: '12px'\n                }}>\n                  ðŸ¤– AI validating brand as small/independent...\n                </div>\n              )}\n            </div>\n\n            {/* Buttons */}\n            <div style={{ \n              display: 'flex', \n              gap: '12px', \n              justifyContent: 'flex-end',\n              marginTop: 'auto'\n            }}>\n              <button \n                className=\"mac-button\"\n                onClick={() => {\n                  setShowAddBrand(false);\n                  setNewBrandInput('');\n                }}\n                disabled={validationLoading || resolverLoading}\n                style={{ minWidth: '80px' }}\n              >\n                Cancel\n              </button>\n              <button \n                className=\"mac-button\"\n                onClick={handleAddBrand}\n                disabled={!newBrandInput.trim() || validationLoading || resolverLoading}\n                style={{ \n                  backgroundColor: (validationLoading || resolverLoading || !newBrandInput.trim()) ? '#ccc' : '#007bff',\n                  color: '#fff',\n                  minWidth: '100px'\n                }}\n              >\n                {resolverLoading ? 'Searching...' : validationLoading ? 'Validating...' : 'Add Brand'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Result Modal - Success/Error */}\n      <MacModal\n        show={!!resultModal}\n        onClose={() => setResultModal(null)}\n        type={resultModal?.type || 'info'}\n        title={resultModal?.title || ''}\n        message={resultModal?.message || ''}\n        zIndex={2100}\n      />\n    </div>\n  );\n}\n\nexport default MyBrandsPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}