{"ast":null,"code":"var _jsxFileName = \"/Users/bhavyajain/Code/fashion_archive/web_ui/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport SeasonsPanel from './components/SeasonsPanel';\nimport CollectionsPanel from './components/CollectionsPanel';\nimport ImageViewerPanel from './components/ImageViewerPanel';\nimport VideoModal from './components/VideoModal';\nimport MenuBar from './components/MenuBar';\nimport { FashionArchiveAPI } from './services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // UI State - matches tkinter version exactly\n  const [column2Activated, setColumn2Activated] = useState(false);\n  const [column3Activated, setColumn3Activated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Data State\n  const [seasons, setSeasons] = useState([]);\n  const [selectedSeason, setSelectedSeason] = useState(null);\n  const [collections, setCollections] = useState([]);\n  const [selectedCollection, setSelectedCollection] = useState(null);\n  const [currentImages, setCurrentImages] = useState([]);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n\n  // Streaming state (matches tkinter stream_collections_update)\n  const [collectionsLoading, setCollectionsLoading] = useState(false);\n  const [loadingProgress, setLoadingProgress] = useState({\n    page: 0,\n    total: 0\n  });\n\n  // UI Mode State\n  const [galleryMode, setGalleryMode] = useState(false);\n  const [zoomMode, setZoomMode] = useState(0); // 0=off, 1=2x, 2=3x\n  const [isDownloading, setIsDownloading] = useState(false);\n\n  // Video State\n  const [videoModalOpen, setVideoModalOpen] = useState(false);\n  const [currentVideoPath, setCurrentVideoPath] = useState(null);\n\n  // Initialize - Load seasons on startup (matches tkinter)\n  useEffect(() => {\n    const loadSeasons = async () => {\n      try {\n        setIsLoading(true);\n        const seasonsData = await FashionArchiveAPI.getSeasons();\n        setSeasons(seasonsData);\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Error loading seasons:', error);\n        setIsLoading(false);\n      }\n    };\n    loadSeasons();\n  }, []);\n\n  // Handle season selection - show column 2 (collections) with streaming\n  const handleSeasonSelect = async season => {\n    setSelectedSeason(season);\n    setColumn2Activated(true);\n    setCollectionsLoading(true);\n    setCollections([]);\n    setLoadingProgress({\n      page: 0,\n      total: 0\n    });\n    try {\n      // Use streaming collections (matches tkinter stream_collections_update)\n      const finalCollections = await FashionArchiveAPI.streamCollections(season.url, streamData => {\n        if (streamData.error) {\n          console.error('Stream error:', streamData.error);\n          setCollectionsLoading(false);\n          return;\n        }\n        if (!streamData.complete) {\n          // Update progress (matches tkinter real-time updates)\n          setLoadingProgress({\n            page: streamData.page,\n            total: streamData.total_collections\n          });\n\n          // Update collections in real-time\n          if (streamData.page_collections) {\n            setCollections(prev => [...prev, ...streamData.page_collections]);\n          }\n        } else {\n          // Final complete data\n          if (streamData.collections) {\n            setCollections(streamData.collections);\n          }\n          setCollectionsLoading(false);\n        }\n      });\n      if (finalCollections) {\n        setCollections(finalCollections);\n      }\n    } catch (error) {\n      console.error('Error loading collections:', error);\n      setCollections([]);\n    } finally {\n      setCollectionsLoading(false);\n    }\n  };\n\n  // Handle designer/collection selection - show column 3 (images)\n  const handleCollectionSelect = async collection => {\n    setSelectedCollection(collection);\n    setColumn3Activated(true);\n    setIsDownloading(true);\n    try {\n      // Download images (matches tkinter behavior)\n      const imageData = await FashionArchiveAPI.downloadImages(collection);\n      setCurrentImages(imageData.imagePaths || []);\n      setCurrentImageIndex(0);\n\n      // Start video download in parallel (matches tkinter)\n      FashionArchiveAPI.downloadVideo(collection).then(videoPath => {\n        if (videoPath) {\n          setCurrentVideoPath(videoPath);\n        }\n      }).catch(error => {\n        console.error('Video download failed:', error);\n      });\n    } catch (error) {\n      console.error('Error downloading images:', error);\n      setCurrentImages([]);\n    } finally {\n      setIsDownloading(false);\n    }\n  };\n\n  // Image navigation (matches tkinter behavior)\n  const handlePrevImage = () => {\n    if (currentImages.length > 0) {\n      const newIndex = currentImageIndex > 0 ? currentImageIndex - 1 : currentImages.length - 1; // Wrap to last\n      setCurrentImageIndex(newIndex);\n    }\n  };\n  const handleNextImage = () => {\n    if (currentImages.length > 0) {\n      const newIndex = currentImageIndex < currentImages.length - 1 ? currentImageIndex + 1 : 0; // Wrap to first\n      setCurrentImageIndex(newIndex);\n    }\n  };\n\n  // Toggle gallery/single view (matches tkinter)\n  const handleToggleGallery = () => {\n    setGalleryMode(!galleryMode);\n  };\n\n  // Cycle zoom mode (matches tkinter)\n  const handleCycleZoom = () => {\n    setZoomMode((zoomMode + 1) % 3);\n  };\n\n  // Video player toggle\n  const handleToggleVideo = () => {\n    if (currentVideoPath) {\n      setVideoModalOpen(!videoModalOpen);\n    }\n  };\n\n  // Keyboard navigation (matches tkinter)\n  useEffect(() => {\n    const handleKeyPress = e => {\n      if (e.key === 'ArrowLeft') {\n        handlePrevImage();\n      } else if (e.key === 'ArrowRight') {\n        handleNextImage();\n      } else if (e.key === 'Escape' && videoModalOpen) {\n        setVideoModalOpen(false);\n      }\n    };\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [currentImageIndex, currentImages.length, videoModalOpen]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"columns-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mac-label\",\n          children: \"Loading Fashion Week Archive...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"columns-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mac-title-bar\",\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 100\n      },\n      children: \"Fashion Week Archive Browser\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        height: '100vh',\n        paddingTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column\",\n        style: {\n          width: '300px'\n        },\n        children: /*#__PURE__*/_jsxDEV(SeasonsPanel, {\n          seasons: seasons,\n          selectedSeason: selectedSeason,\n          onSeasonSelect: handleSeasonSelect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), column2Activated && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column\",\n        style: {\n          width: '400px'\n        },\n        children: /*#__PURE__*/_jsxDEV(CollectionsPanel, {\n          collections: collections,\n          selectedCollection: selectedCollection,\n          onCollectionSelect: handleCollectionSelect,\n          seasonTitle: (selectedSeason === null || selectedSeason === void 0 ? void 0 : selectedSeason.name) || ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), column3Activated && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"column\",\n        children: /*#__PURE__*/_jsxDEV(ImageViewerPanel, {\n          images: currentImages,\n          currentImageIndex: currentImageIndex,\n          galleryMode: galleryMode,\n          zoomMode: zoomMode,\n          isDownloading: isDownloading,\n          hasVideo: !!currentVideoPath,\n          designerName: (selectedCollection === null || selectedCollection === void 0 ? void 0 : selectedCollection.designer) || '',\n          onPrevImage: handlePrevImage,\n          onNextImage: handleNextImage,\n          onToggleGallery: handleToggleGallery,\n          onCycleZoom: handleCycleZoom,\n          onToggleVideo: handleToggleVideo,\n          onImageSelect: setCurrentImageIndex\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), videoModalOpen && currentVideoPath && /*#__PURE__*/_jsxDEV(VideoModal, {\n      videoPath: currentVideoPath,\n      onClose: () => setVideoModalOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"lPhz930xSLheD47P6AFvkb46zRs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","SeasonsPanel","CollectionsPanel","ImageViewerPanel","VideoModal","MenuBar","FashionArchiveAPI","jsxDEV","_jsxDEV","App","_s","column2Activated","setColumn2Activated","column3Activated","setColumn3Activated","isLoading","setIsLoading","seasons","setSeasons","selectedSeason","setSelectedSeason","collections","setCollections","selectedCollection","setSelectedCollection","currentImages","setCurrentImages","currentImageIndex","setCurrentImageIndex","collectionsLoading","setCollectionsLoading","loadingProgress","setLoadingProgress","page","total","galleryMode","setGalleryMode","zoomMode","setZoomMode","isDownloading","setIsDownloading","videoModalOpen","setVideoModalOpen","currentVideoPath","setCurrentVideoPath","loadSeasons","seasonsData","getSeasons","error","console","handleSeasonSelect","season","finalCollections","streamCollections","url","streamData","complete","total_collections","page_collections","prev","handleCollectionSelect","collection","imageData","downloadImages","imagePaths","downloadVideo","then","videoPath","catch","handlePrevImage","length","newIndex","handleNextImage","handleToggleGallery","handleCycleZoom","handleToggleVideo","handleKeyPress","e","key","window","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","position","top","left","right","zIndex","display","height","paddingTop","width","onSeasonSelect","onCollectionSelect","seasonTitle","name","images","hasVideo","designerName","designer","onPrevImage","onNextImage","onToggleGallery","onCycleZoom","onToggleVideo","onImageSelect","onClose","_c","$RefreshReg$"],"sources":["/Users/bhavyajain/Code/fashion_archive/web_ui/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SeasonsPanel from './components/SeasonsPanel';\nimport CollectionsPanel from './components/CollectionsPanel';\nimport ImageViewerPanel from './components/ImageViewerPanel';\nimport VideoModal from './components/VideoModal';\nimport MenuBar from './components/MenuBar';\nimport { FashionArchiveAPI } from './services/api';\n\nfunction App() {\n  // UI State - matches tkinter version exactly\n  const [column2Activated, setColumn2Activated] = useState(false);\n  const [column3Activated, setColumn3Activated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  \n  // Data State\n  const [seasons, setSeasons] = useState([]);\n  const [selectedSeason, setSelectedSeason] = useState(null);\n  const [collections, setCollections] = useState([]);\n  const [selectedCollection, setSelectedCollection] = useState(null);\n  const [currentImages, setCurrentImages] = useState([]);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  \n  // Streaming state (matches tkinter stream_collections_update)\n  const [collectionsLoading, setCollectionsLoading] = useState(false);\n  const [loadingProgress, setLoadingProgress] = useState({ page: 0, total: 0 });\n  \n  // UI Mode State\n  const [galleryMode, setGalleryMode] = useState(false);\n  const [zoomMode, setZoomMode] = useState(0); // 0=off, 1=2x, 2=3x\n  const [isDownloading, setIsDownloading] = useState(false);\n  \n  // Video State\n  const [videoModalOpen, setVideoModalOpen] = useState(false);\n  const [currentVideoPath, setCurrentVideoPath] = useState(null);\n\n  // Initialize - Load seasons on startup (matches tkinter)\n  useEffect(() => {\n    const loadSeasons = async () => {\n      try {\n        setIsLoading(true);\n        const seasonsData = await FashionArchiveAPI.getSeasons();\n        setSeasons(seasonsData);\n        setIsLoading(false);\n      } catch (error) {\n        console.error('Error loading seasons:', error);\n        setIsLoading(false);\n      }\n    };\n    \n    loadSeasons();\n  }, []);\n\n  // Handle season selection - show column 2 (collections) with streaming\n  const handleSeasonSelect = async (season) => {\n    setSelectedSeason(season);\n    setColumn2Activated(true);\n    setCollectionsLoading(true);\n    setCollections([]);\n    setLoadingProgress({ page: 0, total: 0 });\n    \n    try {\n      // Use streaming collections (matches tkinter stream_collections_update)\n      const finalCollections = await FashionArchiveAPI.streamCollections(\n        season.url,\n        (streamData) => {\n          if (streamData.error) {\n            console.error('Stream error:', streamData.error);\n            setCollectionsLoading(false);\n            return;\n          }\n          \n          if (!streamData.complete) {\n            // Update progress (matches tkinter real-time updates)\n            setLoadingProgress({\n              page: streamData.page,\n              total: streamData.total_collections\n            });\n            \n            // Update collections in real-time\n            if (streamData.page_collections) {\n              setCollections(prev => [...prev, ...streamData.page_collections]);\n            }\n          } else {\n            // Final complete data\n            if (streamData.collections) {\n              setCollections(streamData.collections);\n            }\n            setCollectionsLoading(false);\n          }\n        }\n      );\n      \n      if (finalCollections) {\n        setCollections(finalCollections);\n      }\n    } catch (error) {\n      console.error('Error loading collections:', error);\n      setCollections([]);\n    } finally {\n      setCollectionsLoading(false);\n    }\n  };\n\n  // Handle designer/collection selection - show column 3 (images)\n  const handleCollectionSelect = async (collection) => {\n    setSelectedCollection(collection);\n    setColumn3Activated(true);\n    setIsDownloading(true);\n    \n    try {\n      // Download images (matches tkinter behavior)\n      const imageData = await FashionArchiveAPI.downloadImages(collection);\n      setCurrentImages(imageData.imagePaths || []);\n      setCurrentImageIndex(0);\n      \n      // Start video download in parallel (matches tkinter)\n      FashionArchiveAPI.downloadVideo(collection)\n        .then(videoPath => {\n          if (videoPath) {\n            setCurrentVideoPath(videoPath);\n          }\n        })\n        .catch(error => {\n          console.error('Video download failed:', error);\n        });\n        \n    } catch (error) {\n      console.error('Error downloading images:', error);\n      setCurrentImages([]);\n    } finally {\n      setIsDownloading(false);\n    }\n  };\n\n  // Image navigation (matches tkinter behavior)\n  const handlePrevImage = () => {\n    if (currentImages.length > 0) {\n      const newIndex = currentImageIndex > 0 \n        ? currentImageIndex - 1 \n        : currentImages.length - 1; // Wrap to last\n      setCurrentImageIndex(newIndex);\n    }\n  };\n\n  const handleNextImage = () => {\n    if (currentImages.length > 0) {\n      const newIndex = currentImageIndex < currentImages.length - 1\n        ? currentImageIndex + 1\n        : 0; // Wrap to first\n      setCurrentImageIndex(newIndex);\n    }\n  };\n\n  // Toggle gallery/single view (matches tkinter)\n  const handleToggleGallery = () => {\n    setGalleryMode(!galleryMode);\n  };\n\n  // Cycle zoom mode (matches tkinter)\n  const handleCycleZoom = () => {\n    setZoomMode((zoomMode + 1) % 3);\n  };\n\n  // Video player toggle\n  const handleToggleVideo = () => {\n    if (currentVideoPath) {\n      setVideoModalOpen(!videoModalOpen);\n    }\n  };\n\n  // Keyboard navigation (matches tkinter)\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (e.key === 'ArrowLeft') {\n        handlePrevImage();\n      } else if (e.key === 'ArrowRight') {\n        handleNextImage();\n      } else if (e.key === 'Escape' && videoModalOpen) {\n        setVideoModalOpen(false);\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyPress);\n    return () => window.removeEventListener('keydown', handleKeyPress);\n  }, [currentImageIndex, currentImages.length, videoModalOpen]);\n\n  if (isLoading) {\n    return (\n      <div className=\"columns-container\">\n        <div className=\"loading\">\n          <div className=\"mac-label\">Loading Fashion Week Archive...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"columns-container\">\n      {/* Title Bar - matches tkinter window title */}\n      <div className=\"mac-title-bar\" style={{ \n        position: 'fixed', \n        top: 0, \n        left: 0, \n        right: 0, \n        zIndex: 100 \n      }}>\n        Fashion Week Archive Browser\n      </div>\n\n      {/* Main Content - offset by title bar */}\n      <div style={{ display: 'flex', height: '100vh', paddingTop: '20px' }}>\n        \n        {/* Column 1: Seasons (Always visible) */}\n        <div className=\"column\" style={{ width: '300px' }}>\n          <SeasonsPanel \n            seasons={seasons}\n            selectedSeason={selectedSeason}\n            onSeasonSelect={handleSeasonSelect}\n          />\n        </div>\n\n        {/* Column 2: Collections (Visible after season selection) */}\n        {column2Activated && (\n          <div className=\"column\" style={{ width: '400px' }}>\n            <CollectionsPanel \n              collections={collections}\n              selectedCollection={selectedCollection}\n              onCollectionSelect={handleCollectionSelect}\n              seasonTitle={selectedSeason?.name || ''}\n            />\n          </div>\n        )}\n\n        {/* Column 3: Image Viewer (Visible after collection selection) */}\n        {column3Activated && (\n          <div className=\"column\">\n            <ImageViewerPanel \n              images={currentImages}\n              currentImageIndex={currentImageIndex}\n              galleryMode={galleryMode}\n              zoomMode={zoomMode}\n              isDownloading={isDownloading}\n              hasVideo={!!currentVideoPath}\n              designerName={selectedCollection?.designer || ''}\n              onPrevImage={handlePrevImage}\n              onNextImage={handleNextImage}\n              onToggleGallery={handleToggleGallery}\n              onCycleZoom={handleCycleZoom}\n              onToggleVideo={handleToggleVideo}\n              onImageSelect={setCurrentImageIndex}\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Video Modal */}\n      {videoModalOpen && currentVideoPath && (\n        <VideoModal \n          videoPath={currentVideoPath}\n          onClose={() => setVideoModalOpen(false)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}